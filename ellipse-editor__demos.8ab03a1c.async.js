"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7484],{89609:function(N,M,a){a.d(M,{P:function(){return d}});var l=a(50959),m=a(625),y=a(80667),c=a(76746),E=a(66724),P=["center","radius","draggable","extData","visible","style"],j=P.concat(["zIndex","bubble"]),u={visible:function(S,i){i&&(S?i.show():i.hide())},style:function(S,i){i&&i.setOptions(S)}},o={center:E.t},d=l.forwardRef(function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1?arguments[1]:void 0,i=(0,m.S)(),f=i.map,s=i.AMap,O=(0,l.useRef)(null),D=(0,y.s)(p,O,{setterMap:u,converterMap:o}),C=D.loaded,A=D.onInstanceCreated;(0,l.useEffect)(function(){f&&L().then(function(){A==null||A(O.current)})},[f]),(0,l.useImperativeHandle)(S,function(){return O.current},[O.current]);var L=function(){var R=(0,c.T)(p,j,o);return R.map=f,O.current=new s.Ellipse(R),Promise.resolve()};return C?(0,c.p)(p.children,{key:"ellipse",instance:O.current,map:f}):null})},625:function(N,M,a){a.d(M,{S:function(){return y},X:function(){return m}});var l=a(50959),m=(0,l.createContext)({}),y=function(){return(0,l.useContext)(m)}},34422:function(N,M,a){a.d(M,{D:function(){return ie}});var l=a(50959),m=a(35354),y=a(80667),c=a(66724),E=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],P=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],j=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],u={width:"100%",height:"100%",position:"relative"},o={width:"100%",height:"100%"},d=E.concat(P,j),p={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},S={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},i=a(95704),f=a(11527);function s(e){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(n){C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C(e,t,r){return t=A(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=L(e,"string");return s(t)==="symbol"?t:String(t)}function L(e,t){if(s(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,l.useRef)(),n=(0,l.useRef)(),v=(0,y.s)(t,n,{setterMap:p,converterMap:S}),g=v.loaded,z=v.prevProps,I=v.onInstanceCreated;(0,l.useEffect)(function(){w().then(function(){var x;(x=t.onMapCreate)===null||x===void 0||x.call(t,n.current),I==null||I(n.current)})},[]),(0,l.useEffect)(function(){g&&X(z,t)},[t]);var w=function(){var b=H(),h=(0,i.rr)();return n.current=new h.Map(r.current,b),Promise.resolve()},H=function(){var b={};return d.forEach(function(h){h in t&&(b[h]=Z(h,t))}),b},Z=function(b,h){return b in S?S[b](h[b]):h[b]},X=function(b,h){var K={},U=!1,F=!1;P.forEach(function(B){B in h&&(F=!0,V(B,b,h)&&(U=!0,K[B]=h[B]))}),U&&n.current.setStatus(K)},V=function(b,h,K){return h[b]!==K[b]};return(0,f.jsxs)("div",{className:t.className,style:D(D({},u),t.style),children:[(0,f.jsx)("div",{ref:r,style:o,children:g?null:t.loading}),(0,f.jsx)("div",{children:g?t.children:null})]})},R=a(625);function T(e){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(e)}var q=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(n){k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k(e,t,r){return t=_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=ee(e,"string");return T(t)==="symbol"?t:String(t)}function ee(e,t){if(T(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J(e,t){return ae(e)||ne(e,t)||re(e,t)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(e,t){if(e){if(typeof e=="string")return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}}function Q(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,v,g,z,I=[],w=!0,H=!1;try{if(g=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;w=!1}else for(;!(w=(n=g.call(r)).done)&&(I.push(n.value),I.length!==t);w=!0);}catch(Z){H=!0,v=Z}finally{try{if(!w&&r.return!=null&&(z=r.return(),Object(z)!==z))return}finally{if(H)throw v}}return I}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){if(e==null)return{};var r=ue(e,t),n,v;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(v=0;v<g.length;v++)n=g[v],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ue(e,t){if(e==null)return{};var r={},n=Object.keys(e),v,g;for(g=0;g<n.length;g++)v=n[g],!(t.indexOf(v)>=0)&&(r[v]=e[v]);return r}var ie=l.forwardRef(function(e,t){var r=e.mapKey,n=e.version,v=e.plugins,g=e.AMapUI,z=e.Loca,I=e.loading,w=e.onComplete,H=e.onMapCreate,Z=oe(e,q),X=(0,l.useState)(),V=J(X,2),x=V[0],b=V[1],h=(0,l.useState)(),K=J(h,2),U=K[0],F=K[1];return(0,l.useImperativeHandle)(t,function(){return U},[U]),(0,f.jsx)(R.X.Provider,{value:{AMap:x,map:U},children:(0,f.jsx)(m._,{mapKey:r,version:n,plugins:v,Loca:z,AMapUI:g,loading:I,onComplete:function($){w==null||w($),b($)},children:(0,f.jsx)(W,Y(Y({loading:I},Z),{},{onMapCreate:function($){F($)}}))})})})},76746:function(N,M,a){a.d(M,{T:function(){return P},p:function(){return j}});var l=a(50959);function m(u){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m(u)}function y(u,o,d){return o=c(o),o in u?Object.defineProperty(u,o,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[o]=d,u}function c(u){var o=E(u,"string");return m(o)==="symbol"?o:String(o)}function E(u,o){if(m(u)!=="object"||u===null)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var p=d.call(u,o||"default");if(m(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(u)}function P(u,o,d){var p={},S=function(f,s){return f in d?d[f](s[f]):s[f]};return o.forEach(function(i){if(i in u)if(i==="style"&&u.style!==void 0){var f=Object.keys(u.style);f.forEach(function(s){p[s]=u.style[s]})}else i!=="visible"&&(p[i]=S(i,u))}),p}function j(u,o){var d;return!u||l.Children.count(u)!==1?null:l.cloneElement(l.Children.only(u),(d={},y(d,"".concat(o.key),o.instance),y(d,"map",o.map),d))}},66724:function(N,M,a){a.d(M,{t:function(){return m}});var l=a(95704),m=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var E=0,P=0;Array.isArray(c)?(E=c[0],P=c[1]):"lng"in c&&"lat"in c?(E=c.lng,P=c.lat):"longitude"in c&&"latitude"in c&&(E=c.longitude,P=c.latitude);var j=(0,l.rr)();return l.Ym&&j?new j.LngLat(E,P):null}},79385:function(N,M,a){a.r(M),a.d(M,{default:function(){return S}});var l=a(54306),m=a.n(l),y=a(50959),c=a(34422),E=a(89609),P=a(80667),j=a(625),u={active:function(f,s){s&&(f?s.open():s.close())}},o={},d=y.forwardRef(function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0,s=(0,j.S)(),O=s.map,D=s.AMap,C=(0,y.useRef)(null),A=(0,P.s)(i,C,{setterMap:u,converterMap:o}),L=A.onInstanceCreated;(0,y.useEffect)(function(){i.map&&i.ellipse&&W().then(function(){L==null||L(C.current)})},[i.map,i.ellipse]),(0,y.useImperativeHandle)(f,function(){return C.current},[C.current]);var W=function(){return new Promise(function(T){O.plugin(["AMap.EllipseEditor"],function(){C.current=new D.EllipseEditor(i.map,i.ellipse),T()})})};return null}),p=a(11527),S=function(){var i=(0,y.useState)(!0),f=m()(i,2),s=f[0],O=f[1],D=(0,y.useState)({longitude:120,latitude:30}),C=m()(D,1),A=C[0],L=function(){O(function(R){return!R})};return(0,p.jsxs)("div",{style:{height:500},children:[(0,p.jsx)(c.D,{center:A,zoom:4,children:(0,p.jsx)(E.P,{center:A,radius:[1e6,2e5],children:(0,p.jsx)(d,{active:s})})}),(0,p.jsx)("button",{onClick:function(){L()},children:"Random Active"})]})}}}]);
