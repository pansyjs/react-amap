"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9723],{81592:function(L,v,a){a.d(v,{V:function(){return I}});var o=a(50959),f=a(625),p=a(80667),u=a(91227),m=["position","showZoomBar","showControlButton","visible"],g=m.concat([]),d={visible:function(R,y){y&&(R?y.show():y.hide())}},P={},I=o.forwardRef(function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1?arguments[1]:void 0,y=(0,f.S)(),A=y.map,C=y.AMap,S=(0,o.useRef)(null),U=(0,p.s)(D,S,{setterMap:d,converterMap:P}),O=U.onInstanceCreated;(0,o.useEffect)(function(){A&&V().then(function(){S.current.addTo(A),O==null||O(S.current)})},[A]),(0,o.useImperativeHandle)(R,function(){return S.current},[S.current]);var V=function(){return new Promise(function(K){A.plugin(["AMap.ControlBar"],function(){var H=(0,u.T)(D,g,P);S.current=new C.ControlBar(H),K()})})};return null})},625:function(L,v,a){a.d(v,{S:function(){return p},X:function(){return f}});var o=a(50959),f=(0,o.createContext)({}),p=function(){return(0,o.useContext)(f)}},34422:function(L,v,a){a.d(v,{D:function(){return te}});var o=a(50959),f=a(35354),p=a(80667),u=a(66724),m=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],g=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],d=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],P={width:"100%",height:"100%",position:"relative"},I={width:"100%",height:"100%"},D=m.concat(g,d),R={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},y={center:u.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},A=a(95704),C=a(11527),S=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,o.useRef)(),r=(0,o.useRef)(),i=(0,p.s)(t,r,{setterMap:R,converterMap:y}),l=i.loaded,E=i.prevProps,b=i.onInstanceCreated;(0,o.useEffect)(function(){h().then(function(){var M;(M=t.onMapCreate)===null||M===void 0||M.call(t,r.current),b==null||b(r.current)})},[]),(0,o.useEffect)(function(){l&&N(E,t)},[t]);var h=function(){var c=B(),s=(0,A.rr)();return r.current=new s.Map(n.current,c),Promise.resolve()},B=function(){var c={};return D.forEach(function(s){s in t&&(c[s]=T(s,t))}),c},T=function(c,s){return c in y?y[c](s[c]):s[c]},N=function(c,s){var j={},w=!1,X=!1;g.forEach(function(x){x in s&&(X=!0,W(x,c,s)&&(w=!0,j[x]=s[x]))}),w&&r.current.setStatus(j)},W=function(c,s,j){return s[c]!==j[c]};return(0,C.jsxs)("div",{style:P,children:[(0,C.jsx)("div",{ref:n,style:I,children:l?null:t.loading}),(0,C.jsx)("div",{children:l?t.children:null})]})},U=a(625);function O(e){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(e)}var V=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(r){H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H(e,t,n){return t=G(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){var t=Y(e,"string");return O(t)==="symbol"?t:String(t)}function Y(e,t){if(O(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(O(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $(e,t){return k(e)||_(e,t)||Q(e,t)||J()}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(e,t){if(e){if(typeof e=="string")return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}function F(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,l,E,b=[],h=!0,B=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=l.call(n)).done)&&(b.push(r.value),b.length!==t);h=!0);}catch(T){B=!0,i=T}finally{try{if(!h&&n.return!=null&&(E=n.return(),Object(E)!==E))return}finally{if(B)throw i}}return b}}function k(e){if(Array.isArray(e))return e}function q(e,t){if(e==null)return{};var n=ee(e,t),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ee(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var te=o.forwardRef(function(e,t){var n=e.mapKey,r=e.version,i=e.plugins,l=e.AMapUI,E=e.Loca,b=e.loading,h=e.onComplete,B=e.onMapCreate,T=q(e,V),N=(0,o.useState)(),W=$(N,2),M=W[0],c=W[1],s=(0,o.useState)(),j=$(s,2),w=j[0],X=j[1];return(0,o.useImperativeHandle)(t,function(){return w},[w]),(0,C.jsx)(U.X.Provider,{value:{AMap:M,map:w},children:(0,C.jsx)(f._,{mapKey:n,version:r,plugins:i,Loca:E,AMapUI:l,loading:b,onComplete:function(z){h==null||h(z),c(z)},children:(0,C.jsx)(S,K(K({loading:b},T),{},{onMapCreate:function(z){X(z)}}))})})})},91227:function(L,v,a){a.d(v,{T:function(){return o}});function o(f,p,u){var m={},g=function(P,I){return P in u?u[P](I[P]):I[P]};return p.forEach(function(d){d in f&&d!=="visible"&&(m[d]=g(d,f))}),m}},66724:function(L,v,a){a.d(v,{t:function(){return f}});var o=a(95704),f=function(u){if(!u)return null;if("getLng"in u&&"getLat"in u)return u;var m=0,g=0;Array.isArray(u)?(m=u[0],g=u[1]):"lng"in u&&"lat"in u?(m=u.lng,g=u.lat):"longitude"in u&&"latitude"in u&&(m=u.longitude,g=u.latitude);var d=(0,o.rr)();return o.Ym&&d?new d.LngLat(m,g):null}},43055:function(L,v,a){a.r(v);var o=a(34422),f=a(81592),p=a(11527);v.default=function(){return(0,p.jsx)("div",{style:{height:500},children:(0,p.jsx)(o.D,{viewMode:"3D",children:(0,p.jsx)(f.V,{})})})}}}]);
