(self.webpackChunk_pansy_workspace=self.webpackChunk_pansy_workspace||[]).push([[654],{40044:function(c,p,n){"use strict";n.r(p),n.d(p,{default:function(){return R}});var t=n(79685),f=n(15699),r=n(76091),e=n.n(r),a=n(52015),d=n(38781),i=n(11930),m=["content"],I=m.concat([]),P={},b={},x=n(63342),F=t.forwardRef(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,v=(0,i.S)(),o=v.map,h=v.AMap,u=(0,t.useRef)(null),C=(0,d.s)(l,u,{setterMap:P,converterMap:b}),z=C.loaded,M=C.onInstanceCreated;(0,t.useEffect)(function(){return o&&A().then(function(){o.on("rightclick",O),M==null||M(u.current)}),function(){u.current&&(u.current.off("rightclick",O),o.remove(u.current))}},[o]),(0,t.useImperativeHandle)(s,function(){return u.current},[u.current]);var A=function(){var j=(0,a.T)(l,I,b);return u.current=new h.ContextMenu(j),Promise.resolve()},O=function(j){u.current&&u.current.open(o,j.lnglat)},T=function(){var j=t.Children.toArray(l.children);return(0,x.jsx)(x.Fragment,{children:j.map(function(k,V){return t.isValidElement(k)?t.cloneElement(k,e()(e()({},k.props),{},{map:o,contextMenu:u.current,key:V})):null})})};return z?T():null}),y=n(12089),S=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=s.text,o=v===void 0?"":v,h=s.contextMenu,u=s.onClick,C=u===void 0?y.ZT:u;return(0,t.useEffect)(function(){return h&&h.addItem(o,C),function(){h&&h.removeItem(o,C)}},[s.contextMenu,s.text,s.onClick]),null},g=F;g.Item=S;var R=function(){var l=(0,t.useRef)(),s=function(o){if(l.current)switch(o){case"zoomIn":l.current.zoomIn();break;case"zoomOut":l.current.zoomOut();break;case"center":l.current.setZoomAndCenter(4,[108.946609,34.262324]);break}};return(0,x.jsx)("div",{style:{height:500},children:(0,x.jsx)(f.D,{events:{created:function(o){l.current=o}},children:(0,x.jsxs)(g,{children:[(0,x.jsx)(g.Item,{text:"\u653E\u5927\u4E00\u7EA7",onClick:function(){s("zoomIn")}}),(0,x.jsx)(g.Item,{text:"\u7F29\u5C0F\u4E00\u7EA7",onClick:function(){return s("zoomOut")}}),(0,x.jsx)(g.Item,{text:"\u7F29\u653E\u81F3\u5168\u56FD\u8303\u56F4",onClick:function(){return s("center")}})]})})})}},52015:function(c,p,n){"use strict";n.d(p,{T:function(){return t}});function t(f,r,e){var a={},d=function(m,I){return m in e?e[m](I[m]):I[m]};return r.forEach(function(i){i in f&&i!=="visible"&&(a[i]=d(i,f))}),a}},12089:function(c,p,n){"use strict";n.d(p,{Se:function(){return f},ZT:function(){return t}});var t=function(){},f=function(e){return!!e&&typeof e=="function"}},38425:function(c,p,n){var t=n(68277);function f(r,e){if(r==null)return{};var a=t(r,e),d,i;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(r);for(i=0;i<m.length;i++)d=m[i],!(e.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(r,d)&&(a[d]=r[d])}return a}c.exports=f,c.exports.__esModule=!0,c.exports.default=c.exports},68277:function(c){function p(n,t){if(n==null)return{};var f={},r=Object.keys(n),e,a;for(a=0;a<r.length;a++)e=r[a],!(t.indexOf(e)>=0)&&(f[e]=n[e]);return f}c.exports=p,c.exports.__esModule=!0,c.exports.default=c.exports}}]);
