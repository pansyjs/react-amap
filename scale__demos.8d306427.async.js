"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3077],{625:function(S,f,r){r.d(f,{S:function(){return g},X:function(){return d}});var u=r(50959),d=(0,u.createContext)({}),g=function(){return(0,u.useContext)(d)}},34422:function(S,f,r){r.d(f,{D:function(){return te}});var u=r(50959),d=r(35354),g=r(80667),a=r(66724),s=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],c=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],i=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],y={width:"100%",height:"100%",position:"relative"},h={width:"100%",height:"100%"},I=s.concat(c,i),C={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},b={center:a.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},E=r(95704),v=r(11527),A=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,u.useRef)(),o=(0,u.useRef)(),l=(0,g.s)(t,o,{setterMap:C,converterMap:b}),p=l.loaded,x=l.prevProps,M=l.onInstanceCreated;(0,u.useEffect)(function(){P().then(function(){var O;(O=t.onMapCreate)===null||O===void 0||O.call(t,o.current),M==null||M(o.current)})},[]),(0,u.useEffect)(function(){p&&H(x,t)},[t]);var P=function(){var m=K(),_=(0,E.rr)();return o.current=new _.Map(n.current,m),Promise.resolve()},K=function(){var m={};return I.forEach(function(_){_ in t&&(m[_]=W(_,t))}),m},W=function(m,_){return m in b?b[m](_[m]):_[m]},H=function(m,_){var L={},B=!1,X=!1;c.forEach(function(R){R in _&&(X=!0,w(R,m,_)&&(B=!0,L[R]=_[R]))}),B&&o.current.setStatus(L)},w=function(m,_,L){return _[m]!==L[m]};return(0,v.jsxs)("div",{style:y,children:[(0,v.jsx)("div",{ref:n,style:h,children:p?null:t.loading}),(0,v.jsx)("div",{children:p?t.children:null})]})},D=r(625);function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}var T=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(o){F(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function F(e,t,n){return t=Z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t=$(e,"string");return j(t)==="symbol"?t:String(t)}function $(e,t){if(j(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(j(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y(e,t){return k(e)||Q(e,t)||J(e,t)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,t){if(e){if(typeof e=="string")return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}}function N(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Q(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,p,x,M=[],P=!0,K=!1;try{if(p=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;P=!1}else for(;!(P=(o=p.call(n)).done)&&(M.push(o.value),M.length!==t);P=!0);}catch(W){K=!0,l=W}finally{try{if(!P&&n.return!=null&&(x=n.return(),Object(x)!==x))return}finally{if(K)throw l}}return M}}function k(e){if(Array.isArray(e))return e}function q(e,t){if(e==null)return{};var n=ee(e,t),o,l;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(l=0;l<p.length;l++)o=p[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function ee(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,p;for(p=0;p<o.length;p++)l=o[p],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}var te=u.forwardRef(function(e,t){var n=e.mapKey,o=e.version,l=e.plugins,p=e.AMapUI,x=e.Loca,M=e.loading,P=e.onComplete,K=e.onMapCreate,W=q(e,T),H=(0,u.useState)(),w=Y(H,2),O=w[0],m=w[1],_=(0,u.useState)(),L=Y(_,2),B=L[0],X=L[1];return(0,u.useImperativeHandle)(t,function(){return B},[B]),(0,v.jsx)(D.X.Provider,{value:{AMap:O,map:B},children:(0,v.jsx)(d._,{mapKey:n,version:o,plugins:l,Loca:x,AMapUI:p,loading:M,onComplete:function(z){P==null||P(z),m(z)},children:(0,v.jsx)(A,V(V({loading:M},W),{},{onMapCreate:function(z){X(z)}}))})})})},33042:function(S,f,r){r.d(f,{C:function(){return I}});var u=r(50959),d=r(625),g=r(80667),a=r(91227),s=r(29906),c=["visible"],i=c.concat(["position","offset"]),y={visible:function(b,E){E&&(b?E.show():E.hide())}},h={offset:s.H},I=u.forwardRef(function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,E=(0,d.S)(),v=E.map,A=E.AMap,D=(0,u.useRef)(null),j=(0,g.s)(C,D,{setterMap:y,converterMap:h}),T=j.onInstanceCreated;(0,u.useEffect)(function(){v&&U().then(function(){D.current.addTo(v),T==null||T(D.current)})},[v]),(0,u.useImperativeHandle)(b,function(){return D.current},[D.current]);var U=function(){return new Promise(function(F){A.plugin(["AMap.Scale"],function(){var Z=(0,a.T)(C,i,h);D.current=new A.Scale(Z),F()})})};return null})},91227:function(S,f,r){r.d(f,{T:function(){return u}});function u(d,g,a){var s={},c=function(y,h){return y in a?a[y](h[y]):h[y]};return g.forEach(function(i){i in d&&i!=="visible"&&(s[i]=c(i,d))}),s}},66724:function(S,f,r){r.d(f,{t:function(){return d}});var u=r(95704),d=function(a){if(!a)return null;if("getLng"in a&&"getLat"in a)return a;var s=0,c=0;Array.isArray(a)?(s=a[0],c=a[1]):"lng"in a&&"lat"in a?(s=a.lng,c=a.lat):"longitude"in a&&"latitude"in a&&(s=a.longitude,c=a.latitude);var i=(0,u.rr)();return u.Ym&&i?new i.LngLat(s,c):null}},29906:function(S,f,r){r.d(f,{H:function(){return d}});var u=r(95704),d=function(a){if(!a)return null;if("getX"in a&&"getY"in a)return a;var s=0,c=0;Array.isArray(a)?(s=a[0],c=a[1]):"x"in a&&"y"in a&&(s=a.x,c=a.y);var i=(0,u.rr)();return u.Ym&&i?new i.Pixel(s,c):null}},74633:function(S,f,r){r.r(f);var u=r(54306),d=r.n(u),g=r(50959),a=r(38342),s=r(34422),c=r(33042),i=r(11527);f.default=function(){var y=(0,g.useState)(!0),h=d()(y,2),I=h[0],C=h[1],b=function(){C(function(v){return!v})};return(0,i.jsxs)("div",{style:{height:500},children:[(0,i.jsx)(s.D,{children:(0,i.jsx)(c.C,{visible:I,offset:[20,20],position:"RB"})}),(0,i.jsx)(a.ZP,{onClick:b,children:"\u663E\u793A/\u9690\u85CF"})]})}},29101:function(S,f,r){r.r(f);var u=r(54306),d=r.n(u),g=r(50959),a=r(38342),s=r(34422),c=r(33042),i=r(11527);f.default=function(){var y=(0,g.useState)(!0),h=d()(y,2),I=h[0],C=h[1],b=function(){C(function(A){return!A})},E={created:function(A){console.log("\u6BD4\u4F8B\u5C3A\u521B\u5EFA\u4E8B\u4EF6"),console.log(A)},show:function(){console.log("\u6BD4\u4F8B\u5C3A\u663E\u793A")},hide:function(){console.log("\u6BD4\u4F8B\u5C3A\u9690\u85CF")}};return(0,i.jsxs)("div",{style:{height:500},children:[(0,i.jsx)(s.D,{children:(0,i.jsx)(c.C,{visible:I,events:E,position:"RB"})}),(0,i.jsx)(a.ZP,{onClick:b,children:"\u663E\u793A/\u9690\u85CF"})]})}}}]);
