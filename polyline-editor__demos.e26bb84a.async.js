"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6312],{625:function(Z,O,a){a.d(O,{S:function(){return g},X:function(){return y}});var l=a(50959),y=(0,l.createContext)({}),g=function(){return(0,l.useContext)(y)}},34422:function(Z,O,a){a.d(O,{D:function(){return ie}});var l=a(50959),y=a(35354),g=a(80667),c=a(66724),M=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],S=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],A=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],o={width:"100%",height:"100%",position:"relative"},u={width:"100%",height:"100%"},p=M.concat(S,A),C={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},s={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},d=a(95704),f=a(11527);function i(e){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(n){L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L(e,t,r){return t=T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=I(e,"string");return i(t)==="symbol"?t:String(t)}function I(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,l.useRef)(),n=(0,l.useRef)(),v=(0,g.s)(t,n,{setterMap:C,converterMap:s}),b=v.loaded,K=v.prevProps,w=v.onInstanceCreated;(0,l.useEffect)(function(){x().then(function(){var D;(D=t.onMapCreate)===null||D===void 0||D.call(t,n.current),w==null||w(n.current)})},[]),(0,l.useEffect)(function(){b&&J(K,t)},[t]);var x=function(){var h=H(),P=(0,d.rr)();return n.current=new P.Map(r.current,h),Promise.resolve()},H=function(){var h={};return p.forEach(function(P){P in t&&(h[P]=V(P,t))}),h},V=function(h,P){return h in s?s[h](P[h]):P[h]},J=function(h,P){var W={},B=!1,Q=!1;S.forEach(function(N){N in P&&(Q=!0,F(N,h,P)&&(B=!0,W[N]=P[N]))}),B&&n.current.setStatus(W)},F=function(h,P,W){return P[h]!==W[h]};return(0,f.jsxs)("div",{className:t.className,style:m(m({},o),t.style),children:[(0,f.jsx)("div",{ref:r,style:u,children:b?null:t.loading}),(0,f.jsx)("div",{children:b?t.children:null})]})},R=a(625);function E(e){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(e)}var $=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(n){Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y(e,t,r){return t=_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=ee(e,"string");return E(t)==="symbol"?t:String(t)}function ee(e,t){if(E(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q(e,t){return ae(e)||ne(e,t)||re(e,t)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(e,t){if(e){if(typeof e=="string")return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}}function k(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,v,b,K,w=[],x=!0,H=!1;try{if(b=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;x=!1}else for(;!(x=(n=b.call(r)).done)&&(w.push(n.value),w.length!==t);x=!0);}catch(V){H=!0,v=V}finally{try{if(!x&&r.return!=null&&(K=r.return(),Object(K)!==K))return}finally{if(H)throw v}}return w}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){if(e==null)return{};var r=ue(e,t),n,v;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(v=0;v<b.length;v++)n=b[v],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ue(e,t){if(e==null)return{};var r={},n=Object.keys(e),v,b;for(b=0;b<n.length;b++)v=n[b],!(t.indexOf(v)>=0)&&(r[v]=e[v]);return r}var ie=l.forwardRef(function(e,t){var r=e.mapKey,n=e.version,v=e.plugins,b=e.AMapUI,K=e.Loca,w=e.loading,x=e.onComplete,H=e.onMapCreate,V=oe(e,$),J=(0,l.useState)(),F=q(J,2),D=F[0],h=F[1],P=(0,l.useState)(),W=q(P,2),B=W[0],Q=W[1];return(0,l.useImperativeHandle)(t,function(){return B},[B]),(0,f.jsx)(R.X.Provider,{value:{AMap:D,map:B},children:(0,f.jsx)(y._,{mapKey:r,version:n,plugins:v,Loca:K,AMapUI:b,loading:w,onComplete:function(G){x==null||x(G),h(G)},children:(0,f.jsx)(z,X(X({loading:w},V),{},{onMapCreate:function(G){Q(G)}}))})})})},67348:function(Z,O,a){a.d(O,{a:function(){return C}});var l=a(50959),y=a(625),g=a(80667),c=a(76746),M=a(66724);function S(s){return s.length?"getLng"in s[0]?s:s.map(function(d){return(0,M.t)(d)}):s}var A=["path","extData","draggable","visible","style"],o=A.concat(["zIndex","bubble","showDir"]),u={visible:function(d,f){f&&(d?f.show():f.hide())},style:function(d,f){f&&f.setOptions(d)}},p={path:function(d){return S(d)}},C=l.forwardRef(function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0,f=(0,y.S)(),i=f.map,j=f.AMap,m=(0,l.useRef)(null),L=(0,g.s)(s,m,{setterMap:u,converterMap:p}),T=L.loaded,I=L.onInstanceCreated;(0,l.useEffect)(function(){i&&z().then(function(){I==null||I(m.current)})},[i]),(0,l.useImperativeHandle)(d,function(){return m.current},[T]);var z=function(){var E=(0,c.T)(s,o,p);return E.map=i,m.current=new j.Polyline(E),Promise.resolve()};return T?(0,c.p)(s.children,{key:"poly",instance:m.current,map:i}):null})},76746:function(Z,O,a){a.d(O,{T:function(){return S},p:function(){return A}});var l=a(50959);function y(o){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},y(o)}function g(o,u,p){return u=c(u),u in o?Object.defineProperty(o,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[u]=p,o}function c(o){var u=M(o,"string");return y(u)==="symbol"?u:String(u)}function M(o,u){if(y(o)!=="object"||o===null)return o;var p=o[Symbol.toPrimitive];if(p!==void 0){var C=p.call(o,u||"default");if(y(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}function S(o,u,p){var C={},s=function(f,i){return f in p?p[f](i[f]):i[f]};return u.forEach(function(d){if(d in o)if(d==="style"&&o.style!==void 0){var f=Object.keys(o.style);f.forEach(function(i){C[i]=o.style[i]})}else d!=="visible"&&(C[d]=s(d,o))}),C}function A(o,u){var p;return!o||l.Children.count(o)!==1?null:l.cloneElement(l.Children.only(o),(p={},g(p,"".concat(u.key),u.instance),g(p,"map",u.map),p))}},66724:function(Z,O,a){a.d(O,{t:function(){return y}});var l=a(95704),y=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var M=0,S=0;Array.isArray(c)?(M=c[0],S=c[1]):"lng"in c&&"lat"in c?(M=c.lng,S=c.lat):"longitude"in c&&"latitude"in c&&(M=c.longitude,S=c.latitude);var A=(0,l.rr)();return l.Ym&&A?new A.LngLat(M,S):null}},79478:function(Z,O,a){a.r(O),a.d(O,{default:function(){return f}});var l=a(54306),y=a.n(l),g=a(50959),c=a(25552),M=a(34422),S=a(67348),A=a(80667),o=a(625),u={active:function(j,m){m&&(j?m.open():m.close())}},p={},C=g.forwardRef(function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=arguments.length>1?arguments[1]:void 0,m=(0,g.useRef)(null),L=(0,o.S)(),T=L.map,I=L.AMap,z=(0,A.s)(i,m,{setterMap:u,converterMap:p}),R=z.onInstanceCreated;(0,g.useEffect)(function(){i.map&&i.poly&&E().then(function(){R==null||R(m.current)})},[i.map,i.poly]),(0,g.useImperativeHandle)(j,function(){return m.current},[m.current]);var E=function(){return new Promise(function(U){I.plugin(["AMap.PolylineEditor"],function(){m.current=new I.PolylineEditor(i.map,i.poly),U()})})};return null}),s=a(11527),d=function(){return{longitude:60+Math.random()*50,latitude:10+Math.random()*40}},f=function(){var i=(0,g.useState)(!0),j=y()(i,2),m=j[0],L=j[1],T=(0,g.useState)(Array(3).fill(!0).map(d)),I=y()(T,1),z=I[0],R=(0,g.useState)({longitude:120,latitude:30}),E=y()(R,1),$=E[0],U=function(){L(function(Y){return!Y})};return(0,s.jsxs)("div",{style:{height:500},children:[(0,s.jsx)(M.D,{center:$,zoom:3,children:(0,s.jsx)(S.a,{path:z,children:(0,s.jsx)(C,{active:m})})}),(0,s.jsx)(c.ZP,{onClick:function(){U()},children:"Random Active"})]})}}}]);
