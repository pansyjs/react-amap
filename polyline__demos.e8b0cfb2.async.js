"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4356],{625:function(U,O,a){a.d(O,{S:function(){return P},X:function(){return m}});var i=a(50959),m=(0,i.createContext)({}),P=function(){return(0,i.useContext)(m)}},34422:function(U,O,a){a.d(O,{D:function(){return ie}});var i=a(50959),m=a(35354),P=a(80667),l=a(66724),S=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],d=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],_=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],o={width:"100%",height:"100%",position:"relative"},u={width:"100%",height:"100%"},p=S.concat(d,_),M={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},v={center:l.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},s=a(95704),c=a(11527);function y(e){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(n){T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T(e,t,r){return t=R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=I(e,"string");return y(t)==="symbol"?t:String(t)}function I(e,t){if(y(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,i.useRef)(),n=(0,i.useRef)(),f=(0,P.s)(t,n,{setterMap:M,converterMap:v}),g=f.loaded,w=f.prevProps,j=f.onInstanceCreated;(0,i.useEffect)(function(){D().then(function(){var A;(A=t.onMapCreate)===null||A===void 0||A.call(t,n.current),j==null||j(n.current)})},[]),(0,i.useEffect)(function(){g&&X(w,t)},[t]);var D=function(){var b=V(),h=(0,s.rr)();return n.current=new h.Map(r.current,b),Promise.resolve()},V=function(){var b={};return p.forEach(function(h){h in t&&(b[h]=N(h,t))}),b},N=function(b,h){return b in v?v[b](h[b]):h[b]},X=function(b,h){var x={},K=!1,F=!1;d.forEach(function(W){W in h&&(F=!0,H(W,b,h)&&(K=!0,x[W]=h[W]))}),K&&n.current.setStatus(x)},H=function(b,h,x){return h[b]!==x[b]};return(0,c.jsxs)("div",{className:t.className,style:E(E({},o),t.style),children:[(0,c.jsx)("div",{ref:r,style:u,children:g?null:t.loading}),(0,c.jsx)("div",{children:g?t.children:null})]})},Z=a(625);function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}var z=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(n){k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k(e,t,r){return t=q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=ee(e,"string");return C(t)==="symbol"?t:String(t)}function ee(e,t){if(C(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J(e,t){return ae(e)||ne(e,t)||re(e,t)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(e,t){if(e){if(typeof e=="string")return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}}function Q(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,f,g,w,j=[],D=!0,V=!1;try{if(g=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;D=!1}else for(;!(D=(n=g.call(r)).done)&&(j.push(n.value),j.length!==t);D=!0);}catch(N){V=!0,f=N}finally{try{if(!D&&r.return!=null&&(w=r.return(),Object(w)!==w))return}finally{if(V)throw f}}return j}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){if(e==null)return{};var r=ue(e,t),n,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(f=0;f<g.length;f++)n=g[f],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ue(e,t){if(e==null)return{};var r={},n=Object.keys(e),f,g;for(g=0;g<n.length;g++)f=n[g],!(t.indexOf(f)>=0)&&(r[f]=e[f]);return r}var ie=i.forwardRef(function(e,t){var r=e.mapKey,n=e.version,f=e.plugins,g=e.AMapUI,w=e.Loca,j=e.loading,D=e.onComplete,V=e.onMapCreate,N=oe(e,z),X=(0,i.useState)(),H=J(X,2),A=H[0],b=H[1],h=(0,i.useState)(),x=J(h,2),K=x[0],F=x[1];return(0,i.useImperativeHandle)(t,function(){return K},[K]),(0,c.jsx)(Z.X.Provider,{value:{AMap:A,map:K},children:(0,c.jsx)(m._,{mapKey:r,version:n,plugins:f,Loca:w,AMapUI:g,loading:j,onComplete:function($){D==null||D($),b($)},children:(0,c.jsx)(B,Y(Y({loading:j},N),{},{onMapCreate:function($){F($)}}))})})})},67348:function(U,O,a){a.d(O,{a:function(){return M}});var i=a(50959),m=a(625),P=a(80667),l=a(76746),S=a(66724);function d(v){return v.length?"getLng"in v[0]?v:v.map(function(s){return(0,S.t)(s)}):v}var _=["path","extData","draggable","visible","style"],o=_.concat(["zIndex","bubble","showDir"]),u={visible:function(s,c){c&&(s?c.show():c.hide())},style:function(s,c){c&&c.setOptions(s)}},p={path:function(s){return d(s)}},M=i.forwardRef(function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,c=(0,m.S)(),y=c.map,L=c.AMap,E=(0,i.useRef)(null),T=(0,P.s)(v,E,{setterMap:u,converterMap:p}),R=T.loaded,I=T.onInstanceCreated;(0,i.useEffect)(function(){y&&B().then(function(){I==null||I(E.current)})},[y]),(0,i.useImperativeHandle)(s,function(){return E.current},[R]);var B=function(){var C=(0,l.T)(v,o,p);return C.map=y,E.current=new L.Polyline(C),Promise.resolve()};return R?(0,l.p)(v.children,{key:"poly",instance:E.current,map:y}):null})},76746:function(U,O,a){a.d(O,{T:function(){return d},p:function(){return _}});var i=a(50959);function m(o){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},m(o)}function P(o,u,p){return u=l(u),u in o?Object.defineProperty(o,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[u]=p,o}function l(o){var u=S(o,"string");return m(u)==="symbol"?u:String(u)}function S(o,u){if(m(o)!=="object"||o===null)return o;var p=o[Symbol.toPrimitive];if(p!==void 0){var M=p.call(o,u||"default");if(m(M)!=="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}function d(o,u,p){var M={},v=function(c,y){return c in p?p[c](y[c]):y[c]};return u.forEach(function(s){if(s in o)if(s==="style"&&o.style!==void 0){var c=Object.keys(o.style);c.forEach(function(y){M[y]=o.style[y]})}else s!=="visible"&&(M[s]=v(s,o))}),M}function _(o,u){var p;return!o||i.Children.count(o)!==1?null:i.cloneElement(i.Children.only(o),(p={},P(p,"".concat(u.key),u.instance),P(p,"map",u.map),p))}},66724:function(U,O,a){a.d(O,{t:function(){return m}});var i=a(95704),m=function(l){if(!l)return null;if("getLng"in l&&"getLat"in l)return l;var S=0,d=0;Array.isArray(l)?(S=l[0],d=l[1]):"lng"in l&&"lat"in l?(S=l.lng,d=l.lat):"longitude"in l&&"latitude"in l&&(S=l.longitude,d=l.latitude);var _=(0,i.rr)();return i.Ym&&_?new _.LngLat(S,d):null}},82964:function(U,O,a){a.r(O);var i=a(54306),m=a.n(i),P=a(50959),l=a(34422),S=a(67348),d=a(11527),_=function(){return{longitude:60+Math.random()*50,latitude:10+Math.random()*40}};O.default=function(){var o=(0,P.useState)(!0),u=m()(o,2),p=u[0],M=u[1],v=(0,P.useState)(!0),s=m()(v,2),c=s[0],y=s[1],L=(0,P.useState)(Array(3).fill(!0).map(_)),E=m()(L,2),T=E[0],R=E[1],I=function(){M(function(z){return!z})},B=function(){R(Array(3).fill(!0).map(_))},Z=function(){y(function(z){return!z})};return(0,d.jsxs)("div",{style:{height:500},children:[(0,d.jsx)(l.D,{zoom:3,children:(0,d.jsx)(S.a,{path:T,draggable:c,visible:p})}),(0,d.jsx)("button",{onClick:I,children:"Toggle Visible"}),(0,d.jsx)("button",{onClick:Z,children:"Toggle Draggable"}),(0,d.jsx)("button",{onClick:B,children:"Change Path"})]})}}}]);
