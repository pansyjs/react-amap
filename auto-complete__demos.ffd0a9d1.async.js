"use strict";(self.webpackChunk_pansy_workspace=self.webpackChunk_pansy_workspace||[]).push([[4782],{44854:function(Z,E,o){o.r(E),o.d(E,{default:function(){return D}});var j=o(76091),m=o.n(j),A=o(7863),y=o.n(A),p=o(79685),P=o(62190),f=o(99560),a=o(43080),I=o(38781),O=o(57077),d=o(52015),M=["type","city","citylimit"],u=M.concat(["datatype","input","output","outPutDirAuto","closeResultOnScroll","lang"]),F={type:function(w,v){v&&v.setType(w)},city:function(w,v){v&&v.setCity(w)},citylimit:function(w,v){v&&v.setCityLimit(w)}},J={},T=p.forwardRef(function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1?arguments[1]:void 0,v=(0,p.useRef)(null),S=(0,I.s)(x,v,{setterMap:F,converterMap:J}),R=S.loaded,W=S.onInstanceCreated;(0,p.useEffect)(function(){n().then(function(e){v.current=e,W==null||W(e)})},[]),(0,p.useImperativeHandle)(w,function(){return v.current},[v.current,R]);var n=function(){return new Promise(function(t){(0,O.rr)().plugin(["AMap.AutoComplete"],function(){var r=(0,d.T)(x,u,J);t(new AMap.AutoComplete(r))})})};return null}),b=o(63342),D=function(){var x=(0,p.useState)(),w=y()(x,2),v=w[0],S=w[1],R=(0,p.useState)([]),W=y()(R,2),n=W[0],e=W[1],t=function(l){v&&v.search(l,function(h,s){h==="complete"&&e(s.tips.filter(function(c){return c.id}).map(r))})},r=function(l){return m()(m()({},l),{},{value:l.name,key:l.id,label:(0,b.jsxs)("div",{children:[l.name,(0,b.jsx)("span",{style:{paddingLeft:4,color:"rgba(0, 0, 0, 0.45)"},children:l.district})]})})};return(0,b.jsxs)(a._,{children:[(0,b.jsx)(T,{events:{created:function(l){S(l)}}}),(0,b.jsx)(P.Z,{onSearch:t,options:n,children:(0,b.jsx)(f.Z.Search,{size:"small",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740"})})]})}},43080:function(Z,E,o){o.d(E,{_:function(){return W}});var j=o(76091),m=o.n(j),A=o(7863),y=o.n(A),p=o(38425),P=o.n(p),f=o(79685),a;(function(n){n.notload="notload",n.loading="loading",n.loaded="loaded",n.failed="failed"})(a||(a={}));var I={key:"f97efc35164149d0c0f299e7a8adb3d2",AMap:{version:"2.0",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"2.0.0"}};function O(n){return"https://webapi.amap.com/maps?callback=__amap_init_callback"+"&v=".concat(n.AMap.version)+"&key=".concat(n.key)+"&plugin=".concat(n.AMap.plugins.join(","))}var d={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},M={AMap:[],AMapUI:[],Loca:[]},u=m()({},I),F=[];function J(n){if(typeof n=="function"){if(d.AMap===a.loaded){n(window.AMap);return}F.push(n)}}function T(n){var e=[];return n.AMapUI&&e.push(b(n.AMapUI)),n.Loca&&e.push(D(n.Loca)),Promise.all(e)}function b(n){return new Promise(function(e,t){var r=[];if(n.plugins)for(var i=0;i<n.plugins.length;i+=1)u.AMapUI.plugins.indexOf(n.plugins[i])==-1&&r.push(n.plugins[i]);if(d.AMapUI===a.failed){t("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");return}if(d.AMapUI===a.notload){d.AMapUI=a.loading,u.AMapUI.version=n.version||u.AMapUI.version;var l=u.AMapUI.version,h=document.body||document.head,s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/ui/".concat(l,"/main.js"),s.onerror=function(c){d.AMapUI=a.failed,t("\u8BF7\u6C42 AMapUI \u5931\u8D25")},s.onload=function(){if(d.AMapUI=a.loaded,r.length)window.AMapUI.loadUI(r,function(){for(var c=0,g=r.length;c<g;c++){var C=r[c],L=C.split("/").slice(-1)[0];window.AMapUI[L]=arguments[c]}for(e();M.AMapUI.length;)M.AMapUI.splice(0,1)[0]()});else for(e();M.AMapUI.length;)M.AMapUI.splice(0,1)[0]()},h.appendChild(s);return}if(d.AMapUI===a.loaded){n.version&&n.version!==u.AMapUI.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):r.length?window.AMapUI.loadUI(r,function(){for(var c=0,g=r.length;c<g;c++){var C=r[c],L=C.split("/").slice(-1)[0];window.AMapUI[L]=arguments[c]}e()}):e();return}n.version&&n.version!==u.AMapUI.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):M.AMapUI.push(function(c){c?t(c):r.length?window.AMapUI.loadUI(r,function(){for(var g=0,C=r.length;g<C;g++){var L=r[g],U=L.split("/").slice(-1)[0];window.AMapUI[U]=arguments[g]}e()}):e()})})}function D(n){return new Promise(function(e,t){if(d.Loca===a.failed){t("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");return}if(d.Loca===a.notload){d.Loca=a.loading,u.Loca.version=n.version||u.Loca.version;var r=u.Loca.version,i=u.AMap.version.startsWith("2"),l=r.startsWith("2");if(i&&!l||!i&&l){t("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");return}var h=u.key,s=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v=".concat(r,"&key=").concat(h),c.onerror=function(){d.Loca=a.failed,t("\u8BF7\u6C42 Loca \u5931\u8D25")},c.onload=function(){for(d.Loca=a.loaded,e();M.Loca.length;)M.Loca.splice(0,1)[0]()},s.appendChild(c);return}if(d.Loca===a.loaded){n.version&&n.version!==u.Loca.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):e();return}n.version&&n.version!==u.Loca.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):M.Loca.push(function(g){g?t(g):t()})})}function x(n){return new Promise(function(e,t){if(d.AMap==a.failed){t();return}if(d.AMap==a.notload){var r=n.key,i=r===void 0?u.key:r,l=n.version,h=l===void 0?u.AMap.version:l,s=n.plugins,c=s===void 0?[]:s;u.key=i,u.AMap.version=h,u.AMap.plugins=c,d.AMap=a.loading;var g=document.body||document.head;window.__amap_init_callback=function(B){if(delete window.__amap_init_callback,B){d.AMap=a.failed,t(B);return}for(d.AMap=a.loaded,T(n).then(function(){e(window.AMap)}).catch(t);F.length;)F.splice(0,1)[0]()};var C=document.createElement("script");C.type="text/javascript",C.src=O(u),C.onerror=function(B){d.AMap=a.failed,t(B)},g.appendChild(C);return}if(d.AMap==a.loaded){if(n.key&&n.key!==u.key){t("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(n.version&&n.version!==u.AMap.version){t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}var L=[];if(n.plugins)for(var U=0;U<n.plugins.length;U+=1)u.AMap.plugins.indexOf(n.plugins[U])==-1&&L.push(n.plugins[U]);L.length?window.AMap.plugin(L,function(){T(n).then(function(){e(window.AMap)}).catch(t)}):T(n).then(function(){e(window.AMap)}).catch(t);return}if(n.key&&n.key!==u.key){t("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(n.version&&n.version!==u.AMap.version){t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}var K=[];if(n.plugins)for(var U=0;U<n.plugins.length;U+=1)u.AMap.plugins.indexOf(n.plugins[U])==-1&&K.push(n.plugins[U]);J(function(){K.length?window.AMap.plugin(K,function(){T(n).then(function(){e(window.AMap)}).catch(t)}):T(n).then(function(){e(window.AMap)}).catch(t)})})}function w(){delete window.AMap,delete window.AMapUI,delete window.Loca,u=_objectSpread({},defaultConfig),d={AMap:LoadStatus.notload,AMapUI:LoadStatus.notload,Loca:LoadStatus.notload},M={AMap:[],AMapUI:[],Loca:[]}}var v=o(57077),S=o(63342),R=["loading","children","onComplete"],W=function(e){var t=e.loading,r=e.children,i=e.onComplete,l=P()(e,R),h=(0,f.useState)(!1),s=y()(h,2),c=s[0],g=s[1],C=(0,f.useState)(!0),L=y()(C,2),U=L[0],K=L[1];return(0,f.useEffect)(function(){x(m()(m()({},l),{},{key:l.mapKey})).then(function(){var B=(0,v.rr)();i==null||i(B),g(!0),K(!1)}).catch(function(B){K(!1)})},[JSON.stringify(l)]),U&&t?(0,S.jsx)(S.Fragment,{children:t}):(0,S.jsx)(S.Fragment,{children:c&&r})}},52015:function(Z,E,o){o.d(E,{T:function(){return j}});function j(m,A,y){var p={},P=function(a,I){return a in y?y[a](I[a]):I[a]};return A.forEach(function(f){f in m&&f!=="visible"&&(p[f]=P(f,m))}),p}},38781:function(Z,E,o){o.d(E,{s:function(){return P}});var j=o(7863),m=o.n(j),A=o(79685),y=o(57077);function p(f,a){var I=(0,A.useRef)(),O=(0,A.useRef)(),d=typeof a=="function"?a(O.current,f):!0;return d&&(I.current=O.current,O.current=f),I.current}function P(f,a){var I,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=O.setterMap,M=d===void 0?{}:d,u=O.converterMap,F=u===void 0?{}:u,J=(I=p(f))!==null&&I!==void 0?I:{},T=(0,A.useRef)([]),b=(0,A.useState)(!1),D=m()(b,2),x=D[0],w=D[1];(0,A.useEffect)(function(){a.current&&S(f,!0)},[f]),(0,A.useEffect)(function(){return function(){if(a.current)try{"destroy"in a.current&&a.current.destroy(),"hide"in a.current&&a.current.hide(),"map"in f&&"setMap"in a.current&&a.current.setMap(null)}catch(n){}}},[]);var v=function(e){if(w(!0),"events"in f&&e){var t,r;(t=(r=f.events).created)===null||t===void 0||t.call(r,e)}S(f,!1)},S=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=a.current;if(r)try{Object.keys(e).forEach(function(i){if(i==="events")return R(e);var l=!0;if(t&&(l=W(i,e,J)),!!l){var h=e[i];if(i in F&&(h=F[i](e[i])),i in M)M[i](h,r);else{var s="set".concat((0,y.Cq)(i));s in r&&r[s](h)}}})}catch(i){}},R=function(e){var t=a.current,r=Object.keys(e.events||{});r.length&&r.forEach(function(i){T.current.indexOf(i)===-1&&(T.current.push(i),t.on(i,function(l){return function(){if(e.events&&l in e.events){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];e.events[l].apply(null,s)}}}(i)))})},W=function(e,t,r){return t[e]!==r[e]};return{loaded:x,prevProps:J,onInstanceCreated:v}}},57077:function(Z,E,o){o.d(E,{Cq:function(){return m},Qv:function(){return y},Ym:function(){return j},rr:function(){return A}});var j=typeof window!="undefined",m=function(P){return P[0].toUpperCase()+P.slice(1,P.length)},A=function(){return window.AMap||window.proxy.AMap},y=function(){return window.AMapUI||window.proxy.AMapUI}}}]);
