"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2907],{625:function(B,y,a){a.d(y,{S:function(){return O},X:function(){return f}});var i=a(50959),f=(0,i.createContext)({}),O=function(){return(0,i.useContext)(f)}},34422:function(B,y,a){a.d(y,{D:function(){return te}});var i=a(50959),f=a(35354),O=a(80667),o=a(66724),m=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],g=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],v=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor"],S={width:"100%",height:"100%",position:"relative"},C={width:"100%",height:"100%"},N=m.concat(g,v),L={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},R={center:o.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},w=a(95704),p=a(11527),d=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,i.useRef)(),r=(0,i.useRef)(),u=(0,O.s)(t,r,{setterMap:L,converterMap:R}),l=u.loaded,E=u.prevProps,b=u.onInstanceCreated;(0,i.useEffect)(function(){h().then(function(){var M;(M=t.onMapCreate)===null||M===void 0||M.call(t,r.current),b==null||b(r.current)})},[]),(0,i.useEffect)(function(){l&&F(E,t)},[t]);var h=function(){var c=K(),s=(0,w.rr)();return r.current=new s.Map(n.current,c),Promise.resolve()},K=function(){var c={};return N.forEach(function(s){s in t&&(c[s]=W(s,t))}),c},W=function(c,s){return c in R?R[c](s[c]):s[c]},F=function(c,s){var I={},A=!1,Y=!1;g.forEach(function(x){x in s&&(Y=!0,Z(x,c,s)&&(A=!0,I[x]=s[x]))}),A&&r.current.setStatus(I)},Z=function(c,s,I){return s[c]!==I[c]};return(0,p.jsxs)("div",{style:S,children:[(0,p.jsx)("div",{ref:n,style:C,children:l?null:t.loading}),(0,p.jsx)("div",{children:l?t.children:null})]})},D=a(625);function P(e){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(e)}var j=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(r){T(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T(e,t,n){return t=X(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){var t=G(e,"string");return P(t)==="symbol"?t:String(t)}function G(e,t){if(P(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U(e,t){return q(e)||k(e,t)||Q(e,t)||$()}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(e,t){if(e){if(typeof e=="string")return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,u,l,E,b=[],h=!0,K=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=l.call(n)).done)&&(b.push(r.value),b.length!==t);h=!0);}catch(W){K=!0,u=W}finally{try{if(!h&&n.return!=null&&(E=n.return(),Object(E)!==E))return}finally{if(K)throw u}}return b}}function q(e){if(Array.isArray(e))return e}function _(e,t){if(e==null)return{};var n=ee(e,t),r,u;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(u=0;u<l.length;u++)r=l[u],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ee(e,t){if(e==null)return{};var n={},r=Object.keys(e),u,l;for(l=0;l<r.length;l++)u=r[l],!(t.indexOf(u)>=0)&&(n[u]=e[u]);return n}var te=i.forwardRef(function(e,t){var n=e.mapKey,r=e.version,u=e.plugins,l=e.AMapUI,E=e.Loca,b=e.loading,h=e.onComplete,K=e.onMapCreate,W=_(e,j),F=(0,i.useState)(),Z=U(F,2),M=Z[0],c=Z[1],s=(0,i.useState)(),I=U(s,2),A=I[0],Y=I[1];return(0,i.useImperativeHandle)(t,function(){return A},[A]),(0,p.jsx)(D.X.Provider,{value:{AMap:M,map:A},children:(0,p.jsx)(f._,{mapKey:n,version:r,plugins:u,Loca:E,AMapUI:l,loading:b,onComplete:function(V){h==null||h(V),c(V)},children:(0,p.jsx)(d,H(H({loading:b},W),{},{onMapCreate:function(V){Y(V)}}))})})})},91227:function(B,y,a){a.d(y,{T:function(){return i}});function i(f,O,o){var m={},g=function(S,C){return S in o?o[S](C[S]):C[S]};return O.forEach(function(v){v in f&&v!=="visible"&&(m[v]=g(v,f))}),m}},66724:function(B,y,a){a.d(y,{t:function(){return f}});var i=a(95704),f=function(o){if(!o)return null;if("getLng"in o&&"getLat"in o)return o;var m=0,g=0;Array.isArray(o)?(m=o[0],g=o[1]):"lng"in o&&"lat"in o?(m=o.lng,g=o.lat):"longitude"in o&&"latitude"in o&&(m=o.longitude,g=o.latitude);var v=(0,i.rr)();return i.Ym&&v?new v.LngLat(m,g):null}},57863:function(B,y,a){a.r(y),a.d(y,{default:function(){return R}});var i=a(34422),f=a(50959),O=a(625),o=a(80667),m=a(91227),g=["isOpen","visible"],v=g.concat(["autoMove","showRectangle","showButton","isOpen","mapStyle","layers","width","height","offset","borderStyle","borderColor","borderRadius","borderWidth","buttonSize"]),S={visible:function(p,d){d&&(p?d.show():d.hide())},isOpen:function(p,d){d&&(p?d.open():d.close())}},C={},N=f.forwardRef(function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0,d=(0,O.S)(),D=d.map,P=d.AMap,j=(0,f.useRef)(null),z=(0,o.s)(w,j,{setterMap:S,converterMap:C}),H=z.loaded,T=z.onInstanceCreated;(0,f.useEffect)(function(){D&&X().then(function(){D.addControl(j.current),T==null||T(j.current)})},[D]),(0,f.useImperativeHandle)(p,function(){return j.current},[H]);var X=function(){return new Promise(function(U){P.plugin(["AMap.HawkEye"],function(){var $=(0,m.T)(w,v,C);j.current=new P.HawkEye($),U()})})};return null}),L=a(11527),R=function(){return(0,L.jsx)("div",{style:{height:500},children:(0,L.jsx)(i.D,{children:(0,L.jsx)(N,{})})})}}}]);
