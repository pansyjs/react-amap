"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9723],{81592:function(x,p,a){a.d(p,{V:function(){return E}});var o=a(50959),s=a(625),v=a(80667),u=a(91227),y=["position","showZoomBar","showControlButton","visible"],g=y.concat([]),d={visible:function(R,b){b&&(R?b.show():b.hide())}},M={},E=o.forwardRef(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1?arguments[1]:void 0,b=(0,s.S)(),w=b.map,S=b.AMap,m=(0,o.useRef)(null),W=(0,v.s)(L,m,{setterMap:d,converterMap:M}),I=W.onInstanceCreated;(0,o.useEffect)(function(){w&&V().then(function(){m.current.addTo(w),I==null||I(m.current)})},[w]),(0,o.useImperativeHandle)(R,function(){return m.current},[m.current]);var V=function(){return new Promise(function(Z){w.plugin(["AMap.ControlBar"],function(){var N=(0,u.T)(L,g,M);m.current=new S.ControlBar(N),Z()})})};return null})},625:function(x,p,a){a.d(p,{S:function(){return v},X:function(){return s}});var o=a(50959),s=(0,o.createContext)({}),v=function(){return(0,o.useContext)(s)}},34422:function(x,p,a){a.d(p,{D:function(){return ie}});var o=a(50959),s=a(35354),v=a(80667),u=a(66724),y=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],g=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],d=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],M={width:"100%",height:"100%",position:"relative"},E={width:"100%",height:"100%"},L=y.concat(g,d),R={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},b={center:u.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},w=a(95704),S=a(11527);function m(e){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(n){V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V(e,t,r){return t=$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=Z(e,"string");return m(t)==="symbol"?t:String(t)}function Z(e,t){if(m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,o.useRef)(),n=(0,o.useRef)(),i=(0,v.s)(t,n,{setterMap:R,converterMap:b}),l=i.loaded,C=i.prevProps,h=i.onInstanceCreated;(0,o.useEffect)(function(){O().then(function(){var P;(P=t.onMapCreate)===null||P===void 0||P.call(t,n.current),h==null||h(n.current)})},[]),(0,o.useEffect)(function(){l&&H(C,t)},[t]);var O=function(){var c=B(),f=(0,w.rr)();return n.current=new f.Map(r.current,c),Promise.resolve()},B=function(){var c={};return L.forEach(function(f){f in t&&(c[f]=K(f,t))}),c},K=function(c,f){return c in b?b[c](f[c]):f[c]},H=function(c,f){var j={},A=!1,X=!1;g.forEach(function(D){D in f&&(X=!0,z(D,c,f)&&(A=!0,j[D]=f[D]))}),A&&n.current.setStatus(j)},z=function(c,f,j){return f[c]!==j[c]};return(0,S.jsxs)("div",{className:t.className,style:I(I({},M),t.style),children:[(0,S.jsx)("div",{ref:r,style:E,children:l?null:t.loading}),(0,S.jsx)("div",{children:l?t.children:null})]})},Q=a(625);function T(e){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(e)}var _=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q(e,t,r){return t=k(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=ee(e,"string");return T(t)==="symbol"?t:String(t)}function ee(e,t){if(T(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y(e,t){return ae(e)||ne(e,t)||re(e,t)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(e,t){if(e){if(typeof e=="string")return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,l,C,h=[],O=!0,B=!1;try{if(l=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;O=!1}else for(;!(O=(n=l.call(r)).done)&&(h.push(n.value),h.length!==t);O=!0);}catch(K){B=!0,i=K}finally{try{if(!O&&r.return!=null&&(C=r.return(),Object(C)!==C))return}finally{if(B)throw i}}return h}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){if(e==null)return{};var r=ue(e,t),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ue(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,l;for(l=0;l<n.length;l++)i=n[l],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ie=o.forwardRef(function(e,t){var r=e.mapKey,n=e.version,i=e.plugins,l=e.AMapUI,C=e.Loca,h=e.loading,O=e.onComplete,B=e.onMapCreate,K=oe(e,_),H=(0,o.useState)(),z=Y(H,2),P=z[0],c=z[1],f=(0,o.useState)(),j=Y(f,2),A=j[0],X=j[1];return(0,o.useImperativeHandle)(t,function(){return A},[A]),(0,S.jsx)(Q.X.Provider,{value:{AMap:P,map:A},children:(0,S.jsx)(s._,{mapKey:r,version:n,plugins:i,Loca:C,AMapUI:l,loading:h,onComplete:function(U){O==null||O(U),c(U)},children:(0,S.jsx)(N,G(G({loading:h},K),{},{onMapCreate:function(U){X(U)}}))})})})},91227:function(x,p,a){a.d(p,{T:function(){return o}});function o(s,v,u){var y={},g=function(M,E){return M in u?u[M](E[M]):E[M]};return v.forEach(function(d){d in s&&d!=="visible"&&(y[d]=g(d,s))}),y}},66724:function(x,p,a){a.d(p,{t:function(){return s}});var o=a(95704),s=function(u){if(!u)return null;if("getLng"in u&&"getLat"in u)return u;var y=0,g=0;Array.isArray(u)?(y=u[0],g=u[1]):"lng"in u&&"lat"in u?(y=u.lng,g=u.lat):"longitude"in u&&"latitude"in u&&(y=u.longitude,g=u.latitude);var d=(0,o.rr)();return o.Ym&&d?new d.LngLat(y,g):null}},43055:function(x,p,a){a.r(p);var o=a(34422),s=a(81592),v=a(11527);p.default=function(){return(0,v.jsx)("div",{style:{height:500},children:(0,v.jsx)(o.D,{viewMode:"3D",children:(0,v.jsx)(s.V,{})})})}}}]);
