"use strict";(self.webpackChunk_pansy_workspace=self.webpackChunk_pansy_workspace||[]).push([[8316],{520:function(H,x,o){o.r(x),o.d(x,{default:function(){return K}});var b=o(7863),w=o.n(b),s=o(79685),L=o(99560),C=o(43080),y=o(38781),l=o(57077),e=o(52015),M=["level","subdistrict"],E=M.concat(["showbiz","extensions"]),c={},p={},i=s.forwardRef(function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=arguments.length>1?arguments[1]:void 0,P=(0,s.useRef)(null),F=(0,y.s)(I,P,{setterMap:c,converterMap:p}),R=F.loaded,T=F.onInstanceCreated;(0,s.useEffect)(function(){g().then(function(D){P.current=D,T==null||T(D)})},[]),(0,s.useImperativeHandle)(W,function(){return P.current},[R]);var g=function(){return new Promise(function(J){(0,l.rr)().plugin(["AMap.DistrictSearch"],function(){var n=(0,e.T)(I,E,p);J(new AMap.DistrictSearch(n))})})};return null}),O=o(63342),K=function(){var I=(0,s.useState)(),W=w()(I,2),P=W[0],F=W[1],R=function(g){console.log(g),P&&P.search(g,function(D,J){D==="complete"&&console.log(J)})};return(0,O.jsxs)(C._,{children:[(0,O.jsx)(L.Z.Search,{onSearch:R,style:{width:300},placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u57CE\u5E02"}),(0,O.jsx)(i,{extensions:"all",events:{created:function(g){F(g)}}})]})}},43080:function(H,x,o){o.d(x,{_:function(){return J}});var b=o(76091),w=o.n(b),s=o(7863),L=o.n(s),C=o(38425),y=o.n(C),l=o(79685),e;(function(n){n.notload="notload",n.loading="loading",n.loaded="loaded",n.failed="failed"})(e||(e={}));var M={key:"f97efc35164149d0c0f299e7a8adb3d2",AMap:{version:"2.0",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"2.0.0"}};function E(n){return"https://webapi.amap.com/maps?callback=__amap_init_callback"+"&v=".concat(n.AMap.version)+"&key=".concat(n.key)+"&plugin=".concat(n.AMap.plugins.join(","))}var c={AMap:e.notload,AMapUI:e.notload,Loca:e.notload},p={AMap:[],AMapUI:[],Loca:[]},i=w()({},M),O=[];function K(n){if(typeof n=="function"){if(c.AMap===e.loaded){n(window.AMap);return}O.push(n)}}function I(n){var a=[];return n.AMapUI&&a.push(W(n.AMapUI)),n.Loca&&a.push(P(n.Loca)),Promise.all(a)}function W(n){return new Promise(function(a,t){var r=[];if(n.plugins)for(var u=0;u<n.plugins.length;u+=1)i.AMapUI.plugins.indexOf(n.plugins[u])==-1&&r.push(n.plugins[u]);if(c.AMapUI===e.failed){t("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");return}if(c.AMapUI===e.notload){c.AMapUI=e.loading,i.AMapUI.version=n.version||i.AMapUI.version;var v=i.AMapUI.version,A=document.body||document.head,f=document.createElement("script");f.type="text/javascript",f.src="https://webapi.amap.com/ui/".concat(v,"/main.js"),f.onerror=function(d){c.AMapUI=e.failed,t("\u8BF7\u6C42 AMapUI \u5931\u8D25")},f.onload=function(){if(c.AMapUI=e.loaded,r.length)window.AMapUI.loadUI(r,function(){for(var d=0,h=r.length;d<h;d++){var U=r[d],S=U.split("/").slice(-1)[0];window.AMapUI[S]=arguments[d]}for(a();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()});else for(a();p.AMapUI.length;)p.AMapUI.splice(0,1)[0]()},A.appendChild(f);return}if(c.AMapUI===e.loaded){n.version&&n.version!==i.AMapUI.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):r.length?window.AMapUI.loadUI(r,function(){for(var d=0,h=r.length;d<h;d++){var U=r[d],S=U.split("/").slice(-1)[0];window.AMapUI[S]=arguments[d]}a()}):a();return}n.version&&n.version!==i.AMapUI.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):p.AMapUI.push(function(d){d?t(d):r.length?window.AMapUI.loadUI(r,function(){for(var h=0,U=r.length;h<U;h++){var S=r[h],m=S.split("/").slice(-1)[0];window.AMapUI[m]=arguments[h]}a()}):a()})})}function P(n){return new Promise(function(a,t){if(c.Loca===e.failed){t("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");return}if(c.Loca===e.notload){c.Loca=e.loading,i.Loca.version=n.version||i.Loca.version;var r=i.Loca.version,u=i.AMap.version.startsWith("2"),v=r.startsWith("2");if(u&&!v||!u&&v){t("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");return}var A=i.key,f=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v=".concat(r,"&key=").concat(A),d.onerror=function(){c.Loca=e.failed,t("\u8BF7\u6C42 Loca \u5931\u8D25")},d.onload=function(){for(c.Loca=e.loaded,a();p.Loca.length;)p.Loca.splice(0,1)[0]()},f.appendChild(d);return}if(c.Loca===e.loaded){n.version&&n.version!==i.Loca.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):a();return}n.version&&n.version!==i.Loca.version?t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):p.Loca.push(function(h){h?t(h):t()})})}function F(n){return new Promise(function(a,t){if(c.AMap==e.failed){t();return}if(c.AMap==e.notload){var r=n.key,u=r===void 0?i.key:r,v=n.version,A=v===void 0?i.AMap.version:v,f=n.plugins,d=f===void 0?[]:f;i.key=u,i.AMap.version=A,i.AMap.plugins=d,c.AMap=e.loading;var h=document.body||document.head;window.__amap_init_callback=function(B){if(delete window.__amap_init_callback,B){c.AMap=e.failed,t(B);return}for(c.AMap=e.loaded,I(n).then(function(){a(window.AMap)}).catch(t);O.length;)O.splice(0,1)[0]()};var U=document.createElement("script");U.type="text/javascript",U.src=E(i),U.onerror=function(B){c.AMap=e.failed,t(B)},h.appendChild(U);return}if(c.AMap==e.loaded){if(n.key&&n.key!==i.key){t("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(n.version&&n.version!==i.AMap.version){t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}var S=[];if(n.plugins)for(var m=0;m<n.plugins.length;m+=1)i.AMap.plugins.indexOf(n.plugins[m])==-1&&S.push(n.plugins[m]);S.length?window.AMap.plugin(S,function(){I(n).then(function(){a(window.AMap)}).catch(t)}):I(n).then(function(){a(window.AMap)}).catch(t);return}if(n.key&&n.key!==i.key){t("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(n.version&&n.version!==i.AMap.version){t("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}var z=[];if(n.plugins)for(var m=0;m<n.plugins.length;m+=1)i.AMap.plugins.indexOf(n.plugins[m])==-1&&z.push(n.plugins[m]);K(function(){z.length?window.AMap.plugin(z,function(){I(n).then(function(){a(window.AMap)}).catch(t)}):I(n).then(function(){a(window.AMap)}).catch(t)})})}function R(){delete window.AMap,delete window.AMapUI,delete window.Loca,i=_objectSpread({},defaultConfig),c={AMap:LoadStatus.notload,AMapUI:LoadStatus.notload,Loca:LoadStatus.notload},p={AMap:[],AMapUI:[],Loca:[]}}var T=o(57077),g=o(63342),D=["loading","children","onComplete"],J=function(a){var t=a.loading,r=a.children,u=a.onComplete,v=y()(a,D),A=(0,l.useState)(!1),f=L()(A,2),d=f[0],h=f[1],U=(0,l.useState)(!0),S=L()(U,2),m=S[0],z=S[1];return(0,l.useEffect)(function(){F(w()(w()({},v),{},{key:v.mapKey})).then(function(){var B=(0,T.rr)();u==null||u(B),h(!0),z(!1)}).catch(function(B){z(!1)})},[JSON.stringify(v)]),m&&t?(0,g.jsx)(g.Fragment,{children:t}):(0,g.jsx)(g.Fragment,{children:d&&r})}},52015:function(H,x,o){o.d(x,{T:function(){return b}});function b(w,s,L){var C={},y=function(e,M){return e in L?L[e](M[e]):M[e]};return s.forEach(function(l){l in w&&l!=="visible"&&(C[l]=y(l,w))}),C}},38781:function(H,x,o){o.d(x,{s:function(){return y}});var b=o(7863),w=o.n(b),s=o(79685),L=o(57077);function C(l,e){var M=(0,s.useRef)(),E=(0,s.useRef)(),c=typeof e=="function"?e(E.current,l):!0;return c&&(M.current=E.current,E.current=l),M.current}function y(l,e){var M,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=E.setterMap,p=c===void 0?{}:c,i=E.converterMap,O=i===void 0?{}:i,K=(M=C(l))!==null&&M!==void 0?M:{},I=(0,s.useRef)([]),W=(0,s.useState)(!1),P=w()(W,2),F=P[0],R=P[1];(0,s.useEffect)(function(){e.current&&g(l,!0)},[l]),(0,s.useEffect)(function(){return function(){if(e.current)try{"destroy"in e.current&&e.current.destroy(),"hide"in e.current&&e.current.hide(),"map"in l&&"setMap"in e.current&&e.current.setMap(null)}catch(n){}}},[]);var T=function(a){if(R(!0),"events"in l&&a){var t,r;(t=(r=l.events).created)===null||t===void 0||t.call(r,a)}g(l,!1)},g=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=e.current;if(r)try{Object.keys(a).forEach(function(u){if(u==="events")return D(a);var v=!0;if(t&&(v=J(u,a,K)),!!v){var A=a[u];if(u in O&&(A=O[u](a[u])),u in p)p[u](A,r);else{var f="set".concat((0,L.Cq)(u));f in r&&r[f](A)}}})}catch(u){}},D=function(a){var t=e.current,r=Object.keys(a.events||{});r.length&&r.forEach(function(u){I.current.indexOf(u)===-1&&(I.current.push(u),t.on(u,function(v){return function(){if(a.events&&v in a.events){for(var A=arguments.length,f=new Array(A),d=0;d<A;d++)f[d]=arguments[d];a.events[v].apply(null,f)}}}(u)))})},J=function(a,t,r){return t[a]!==r[a]};return{loaded:F,prevProps:K,onInstanceCreated:T}}},57077:function(H,x,o){o.d(x,{Cq:function(){return w},Qv:function(){return L},Ym:function(){return b},rr:function(){return s}});var b=typeof window!="undefined",w=function(y){return y[0].toUpperCase()+y.slice(1,y.length)},s=function(){return window.AMap||window.proxy.AMap},L=function(){return window.AMapUI||window.proxy.AMapUI}}}]);
