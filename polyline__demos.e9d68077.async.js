"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4356],{625:function(U,O,a){a.d(O,{S:function(){return M},X:function(){return p}});var i=a(50959),p=(0,i.createContext)({}),M=function(){return(0,i.useContext)(p)}},34422:function(U,O,a){a.d(O,{D:function(){return te}});var i=a(50959),p=a(35354),M=a(80667),l=a(66724),S=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],m=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],_=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],o={width:"100%",height:"100%",position:"relative"},u={width:"100%",height:"100%"},f=S.concat(m,_),E={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},v={center:l.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},s=a(95704),c=a(11527),h=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,i.useRef)(),r=(0,i.useRef)(),d=(0,M.s)(t,r,{setterMap:E,converterMap:v}),g=d.loaded,L=d.prevProps,C=d.onInstanceCreated;(0,i.useEffect)(function(){A().then(function(){var I;(I=t.onMapCreate)===null||I===void 0||I.call(t,r.current),C==null||C(r.current)})},[]),(0,i.useEffect)(function(){g&&X(L,t)},[t]);var A=function(){var y=V(),b=(0,s.rr)();return r.current=new b.Map(n.current,y),Promise.resolve()},V=function(){var y={};return f.forEach(function(b){b in t&&(y[b]=Z(b,t))}),y},Z=function(y,b){return y in v?v[y](b[y]):b[y]},X=function(y,b){var T={},K=!1,F=!1;m.forEach(function(W){W in b&&(F=!0,N(W,y,b)&&(K=!0,T[W]=b[W]))}),K&&r.current.setStatus(T)},N=function(y,b,T){return b[y]!==T[y]};return(0,c.jsxs)("div",{style:o,children:[(0,c.jsx)("div",{ref:n,style:u,children:g?null:t.loading}),(0,c.jsx)("div",{children:g?t.children:null})]})},B=a(625);function P(e){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(e)}var w=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(r){z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z(e,t,n){return t=H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=x(e,"string");return P(t)==="symbol"?t:String(t)}function x(e,t){if(P(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R(e,t){return k(e)||Q(e,t)||J(e,t)||Y()}function Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,t){if(e){if(typeof e=="string")return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}}function G(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,d,g,L,C=[],A=!0,V=!1;try{if(g=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;A=!1}else for(;!(A=(r=g.call(n)).done)&&(C.push(r.value),C.length!==t);A=!0);}catch(Z){V=!0,d=Z}finally{try{if(!A&&n.return!=null&&(L=n.return(),Object(L)!==L))return}finally{if(V)throw d}}return C}}function k(e){if(Array.isArray(e))return e}function q(e,t){if(e==null)return{};var n=ee(e,t),r,d;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(d=0;d<g.length;d++)r=g[d],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ee(e,t){if(e==null)return{};var n={},r=Object.keys(e),d,g;for(g=0;g<r.length;g++)d=r[g],!(t.indexOf(d)>=0)&&(n[d]=e[d]);return n}var te=i.forwardRef(function(e,t){var n=e.mapKey,r=e.version,d=e.plugins,g=e.AMapUI,L=e.Loca,C=e.loading,A=e.onComplete,V=e.onMapCreate,Z=q(e,w),X=(0,i.useState)(),N=R(X,2),I=N[0],y=N[1],b=(0,i.useState)(),T=R(b,2),K=T[0],F=T[1];return(0,i.useImperativeHandle)(t,function(){return K},[K]),(0,c.jsx)(B.X.Provider,{value:{AMap:I,map:K},children:(0,c.jsx)(p._,{mapKey:n,version:r,plugins:d,Loca:L,AMapUI:g,loading:C,onComplete:function($){A==null||A($),y($)},children:(0,c.jsx)(h,j(j({loading:C},Z),{},{onMapCreate:function($){F($)}}))})})})},67348:function(U,O,a){a.d(O,{a:function(){return E}});var i=a(50959),p=a(625),M=a(80667),l=a(76746),S=a(66724);function m(v){return v.length?"getLng"in v[0]?v:v.map(function(s){return(0,S.t)(s)}):v}var _=["path","extData","draggable","visible","style"],o=_.concat(["zIndex","bubble","showDir"]),u={visible:function(s,c){c&&(s?c.show():c.hide())},style:function(s,c){c&&c.setOptions(s)}},f={path:function(s){return m(s)}},E=i.forwardRef(function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,c=(0,p.S)(),h=c.map,B=c.AMap,P=(0,i.useRef)(null),w=(0,M.s)(v,P,{setterMap:u,converterMap:f}),D=w.loaded,j=w.onInstanceCreated;(0,i.useEffect)(function(){h&&z().then(function(){j==null||j(P.current)})},[h]),(0,i.useImperativeHandle)(s,function(){return P.current},[D]);var z=function(){var x=(0,l.T)(v,o,f);return x.map=h,P.current=new B.Polyline(x),Promise.resolve()};return D?(0,l.p)(v.children,{key:"poly",instance:P.current,map:h}):null})},76746:function(U,O,a){a.d(O,{T:function(){return m},p:function(){return _}});var i=a(50959);function p(o){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},p(o)}function M(o,u,f){return u=l(u),u in o?Object.defineProperty(o,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[u]=f,o}function l(o){var u=S(o,"string");return p(u)==="symbol"?u:String(u)}function S(o,u){if(p(o)!=="object"||o===null)return o;var f=o[Symbol.toPrimitive];if(f!==void 0){var E=f.call(o,u||"default");if(p(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}function m(o,u,f){var E={},v=function(c,h){return c in f?f[c](h[c]):h[c]};return u.forEach(function(s){if(s in o)if(s==="style"&&o.style!==void 0){var c=Object.keys(o.style);c.forEach(function(h){E[h]=o.style[h]})}else s!=="visible"&&(E[s]=v(s,o))}),E}function _(o,u){var f;return!o||i.Children.count(o)!==1?null:i.cloneElement(i.Children.only(o),(f={},M(f,"".concat(u.key),u.instance),M(f,"map",u.map),f))}},66724:function(U,O,a){a.d(O,{t:function(){return p}});var i=a(95704),p=function(l){if(!l)return null;if("getLng"in l&&"getLat"in l)return l;var S=0,m=0;Array.isArray(l)?(S=l[0],m=l[1]):"lng"in l&&"lat"in l?(S=l.lng,m=l.lat):"longitude"in l&&"latitude"in l&&(S=l.longitude,m=l.latitude);var _=(0,i.rr)();return i.Ym&&_?new _.LngLat(S,m):null}},82964:function(U,O,a){a.r(O);var i=a(54306),p=a.n(i),M=a(50959),l=a(34422),S=a(67348),m=a(11527),_=function(){return{longitude:60+Math.random()*50,latitude:10+Math.random()*40}};O.default=function(){var o=(0,M.useState)(!0),u=p()(o,2),f=u[0],E=u[1],v=(0,M.useState)(!0),s=p()(v,2),c=s[0],h=s[1],B=(0,M.useState)(Array(3).fill(!0).map(_)),P=p()(B,2),w=P[0],D=P[1],j=function(){E(function(R){return!R})},z=function(){D(Array(3).fill(!0).map(_))},H=function(){h(function(R){return!R})};return(0,m.jsxs)("div",{style:{height:500},children:[(0,m.jsx)(l.D,{zoom:3,children:(0,m.jsx)(S.a,{path:w,draggable:c,visible:f})}),(0,m.jsx)("button",{onClick:j,children:"Toggle Visible"}),(0,m.jsx)("button",{onClick:H,children:"Toggle Draggable"}),(0,m.jsx)("button",{onClick:z,children:"Change Path"})]})}}}]);
