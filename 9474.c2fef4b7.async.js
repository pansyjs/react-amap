"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9474],{1006:function(B,h,i){i.d(h,{j:function(){return m},l:function(){return O}});var l=i(50959),m=(0,l.createContext)({}),O=function(){return(0,l.useContext)(m)}},81077:function(B,h,i){i.d(h,{o:function(){return J}});var l=i(50959),m=i(625),O=i(11527),c=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.onCreate,f=(0,m.S)(),p=f.map,I=(0,l.useRef)();return(0,l.useEffect)(function(){p&&(I.current=new window.Loca.Container({map:p}),u==null||u(I.current))},[p]),(0,O.jsx)(O.Fragment,{children:a.children})},P=i(1006);function v(n){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(n)}function d(n,a){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);a&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable})),u.push.apply(u,f)}return u}function j(n){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?d(Object(u),!0).forEach(function(f){w(n,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):d(Object(u)).forEach(function(f){Object.defineProperty(n,f,Object.getOwnPropertyDescriptor(u,f))})}return n}function w(n,a,u){return a=D(a),a in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,n}function D(n){var a=S(n,"string");return v(a)==="symbol"?a:String(a)}function S(n,a){if(v(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var f=u.call(n,a||"default");if(v(f)!=="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function T(n,a){return F(n)||$(n,a)||M(n,a)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(n,a){if(n){if(typeof n=="string")return L(n,a);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return L(n,a)}}function L(n,a){(a==null||a>n.length)&&(a=n.length);for(var u=0,f=new Array(a);u<a;u++)f[u]=n[u];return f}function $(n,a){var u=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var f,p,I,K,x=[],U=!0,X=!1;try{if(I=(u=u.call(n)).next,a===0){if(Object(u)!==u)return;U=!1}else for(;!(U=(f=I.call(u)).done)&&(x.push(f.value),x.length!==a);U=!0);}catch(Q){X=!0,p=Q}finally{try{if(!U&&u.return!=null&&(K=u.return(),Object(K)!==K))return}finally{if(X)throw p}}return x}}function F(n){if(Array.isArray(n))return n}var J=(0,l.forwardRef)(function(n,a){var u=(0,l.useState)(),f=T(u,2),p=f[0],I=f[1];return(0,l.useImperativeHandle)(a,function(){return p},[p]),(0,O.jsx)(P.j.Provider,{value:{loca:p},children:(0,O.jsx)(c,j(j({},n),{},{onCreate:function(x){I(x)}}))})})},57682:function(B,h,i){i.d(h,{A:function(){return j}});var l=i(50959),m=i(91227),O=i(80667),c=["loca","zIndex","visible","zooms","opacity"],P=c.concat([]),v={visible:function(D,S){S&&(D?S.show():S.hide())}},d={},j=(0,l.forwardRef)(function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1?arguments[1]:void 0,S=(0,l.useRef)(),T=(0,O.s)(w,S,{setterMap:v,converterMap:d}),R=T.onInstanceCreated;return(0,l.useEffect)(function(){var M=(0,m.T)(w,P,d);S.current=new window.Loca.ScatterLayer(M),R==null||R(S.current)},[]),(0,l.useImperativeHandle)(D,function(){return S.current},[S.current]),null})},625:function(B,h,i){i.d(h,{S:function(){return O},X:function(){return m}});var l=i(50959),m=(0,l.createContext)({}),O=function(){return(0,l.useContext)(m)}},34422:function(B,h,i){i.d(h,{D:function(){return ie}});var l=i(50959),m=i(35354),O=i(80667),c=i(66724),P=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],v=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],d=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],j={width:"100%",height:"100%",position:"relative"},w={width:"100%",height:"100%"},D=P.concat(v,d),S={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},T={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},R=i(95704),M=i(11527);function L(e){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(e)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(o){J(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function J(e,t,r){return t=n(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){var t=a(e,"string");return L(t)==="symbol"?t:String(t)}function a(e,t){if(L(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(L(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,l.useRef)(),o=(0,l.useRef)(),s=(0,O.s)(t,o,{setterMap:S,converterMap:T}),y=s.loaded,z=s.prevProps,C=s.onInstanceCreated;(0,l.useEffect)(function(){E().then(function(){var A;(A=t.onMapCreate)===null||A===void 0||A.call(t,o.current),C==null||C(o.current)})},[]),(0,l.useEffect)(function(){y&&_(z,t)},[t]);var E=function(){var b=Z(),g=(0,R.rr)();return o.current=new g.Map(r.current,b),Promise.resolve()},Z=function(){var b={};return D.forEach(function(g){g in t&&(b[g]=V(g,t))}),b},V=function(b,g){return b in T?T[b](g[b]):g[b]},_=function(b,g){var W={},H=!1,q=!1;v.forEach(function(N){N in g&&(q=!0,G(N,b,g)&&(H=!0,W[N]=g[N]))}),H&&o.current.setStatus(W)},G=function(b,g,W){return g[b]!==W[b]};return(0,M.jsxs)("div",{className:t.className,style:F(F({},j),t.style),children:[(0,M.jsx)("div",{ref:r,style:w,children:y?null:t.loading}),(0,M.jsx)("div",{children:y?t.children:null})]})},f=i(625);function p(e){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(e)}var I=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(o){U(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function U(e,t,r){return t=X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){var t=Q(e,"string");return p(t)==="symbol"?t:String(t)}function Q(e,t){if(p(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(p(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k(e,t){return ae(e)||ne(e,t)||re(e,t)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(e,t){if(e){if(typeof e=="string")return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}}function ee(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,y,z,C=[],E=!0,Z=!1;try{if(y=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;E=!1}else for(;!(E=(o=y.call(r)).done)&&(C.push(o.value),C.length!==t);E=!0);}catch(V){Z=!0,s=V}finally{try{if(!E&&r.return!=null&&(z=r.return(),Object(z)!==z))return}finally{if(Z)throw s}}return C}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){if(e==null)return{};var r=ue(e,t),o,s;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(s=0;s<y.length;s++)o=y[s],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ue(e,t){if(e==null)return{};var r={},o=Object.keys(e),s,y;for(y=0;y<o.length;y++)s=o[y],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var ie=l.forwardRef(function(e,t){var r=e.mapKey,o=e.version,s=e.plugins,y=e.AMapUI,z=e.Loca,C=e.loading,E=e.onComplete,Z=e.onMapCreate,V=oe(e,I),_=(0,l.useState)(),G=k(_,2),A=G[0],b=G[1],g=(0,l.useState)(),W=k(g,2),H=W[0],q=W[1];return(0,l.useImperativeHandle)(t,function(){return H},[H]),(0,M.jsx)(f.X.Provider,{value:{AMap:A,map:H},children:(0,M.jsx)(m._,{mapKey:r,version:o,plugins:s,Loca:z,AMapUI:y,loading:C,onComplete:function(Y){E==null||E(Y),b(Y)},children:(0,M.jsx)(u,x(x({loading:C},V),{},{onMapCreate:function(Y){q(Y)}}))})})})},91227:function(B,h,i){i.d(h,{T:function(){return l}});function l(m,O,c){var P={},v=function(j,w){return j in c?c[j](w[j]):w[j]};return O.forEach(function(d){d in m&&d!=="visible"&&(P[d]=v(d,m))}),P}},66724:function(B,h,i){i.d(h,{t:function(){return m}});var l=i(95704),m=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var P=0,v=0;Array.isArray(c)?(P=c[0],v=c[1]):"lng"in c&&"lat"in c?(P=c.lng,v=c.lat):"longitude"in c&&"latitude"in c&&(P=c.longitude,v=c.latitude);var d=(0,l.rr)();return l.Ym&&d?new d.LngLat(P,v):null}}}]);
