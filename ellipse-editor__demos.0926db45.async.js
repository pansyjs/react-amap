"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7484],{89609:function(B,S,r){r.d(S,{P:function(){return d}});var l=r(50959),m=r(625),y=r(80667),c=r(76746),O=r(66724),M=["center","radius","draggable","extData","visible","style"],j=M.concat(["zIndex","bubble"]),u={visible:function(P,i){i&&(P?i.show():i.hide())},style:function(P,i){i&&i.setOptions(P)}},o={center:O.t},d=l.forwardRef(function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1?arguments[1]:void 0,i=(0,m.S)(),s=i.map,p=i.AMap,E=(0,l.useRef)(null),C=(0,y.s)(f,E,{setterMap:u,converterMap:o}),A=C.loaded,I=C.onInstanceCreated;(0,l.useEffect)(function(){s&&x().then(function(){I==null||I(E.current)})},[s]),(0,l.useImperativeHandle)(P,function(){return E.current},[E.current]);var x=function(){var D=(0,c.T)(f,j,o);return D.map=s,E.current=new p.Ellipse(D),Promise.resolve()};return A?(0,c.p)(f.children,{key:"ellipse",instance:E.current,map:s}):null})},625:function(B,S,r){r.d(S,{S:function(){return y},X:function(){return m}});var l=r(50959),m=(0,l.createContext)({}),y=function(){return(0,l.useContext)(m)}},34422:function(B,S,r){r.d(S,{D:function(){return te}});var l=r(50959),m=r(35354),y=r(80667),c=r(66724),O=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],M=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],j=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],u={width:"100%",height:"100%",position:"relative"},o={width:"100%",height:"100%"},d=O.concat(M,j),f={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},P={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},i=r(95704),s=r(11527),p=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,l.useRef)(),a=(0,l.useRef)(),v=(0,y.s)(t,a,{setterMap:f,converterMap:P}),g=v.loaded,T=v.prevProps,L=v.onInstanceCreated;(0,l.useEffect)(function(){R().then(function(){var w;(w=t.onMapCreate)===null||w===void 0||w.call(t,a.current),L==null||L(a.current)})},[]),(0,l.useEffect)(function(){g&&X(T,t)},[t]);var R=function(){var b=H(),h=(0,i.rr)();return a.current=new h.Map(n.current,b),Promise.resolve()},H=function(){var b={};return d.forEach(function(h){h in t&&(b[h]=Z(h,t))}),b},Z=function(b,h){return b in P?P[b](h[b]):h[b]},X=function(b,h){var z={},W=!1,F=!1;M.forEach(function(U){U in h&&(F=!0,V(U,b,h)&&(W=!0,z[U]=h[U]))}),W&&a.current.setStatus(z)},V=function(b,h,z){return h[b]!==z[b]};return(0,s.jsxs)("div",{style:u,children:[(0,s.jsx)("div",{ref:n,style:o,children:g?null:t.loading}),(0,s.jsx)("div",{children:g?t.children:null})]})},E=r(625);function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}var A=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(a){K(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function K(e,t,n){return t=D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=$(e,"string");return C(t)==="symbol"?t:String(t)}function $(e,t){if(C(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(C(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G(e,t){return q(e)||k(e,t)||Q(e,t)||J()}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(e,t){if(e){if(typeof e=="string")return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}function Y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function k(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,v,g,T,L=[],R=!0,H=!1;try{if(g=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;R=!1}else for(;!(R=(a=g.call(n)).done)&&(L.push(a.value),L.length!==t);R=!0);}catch(Z){H=!0,v=Z}finally{try{if(!R&&n.return!=null&&(T=n.return(),Object(T)!==T))return}finally{if(H)throw v}}return L}}function q(e){if(Array.isArray(e))return e}function _(e,t){if(e==null)return{};var n=ee(e,t),a,v;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(v=0;v<g.length;v++)a=g[v],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ee(e,t){if(e==null)return{};var n={},a=Object.keys(e),v,g;for(g=0;g<a.length;g++)v=a[g],!(t.indexOf(v)>=0)&&(n[v]=e[v]);return n}var te=l.forwardRef(function(e,t){var n=e.mapKey,a=e.version,v=e.plugins,g=e.AMapUI,T=e.Loca,L=e.loading,R=e.onComplete,H=e.onMapCreate,Z=_(e,A),X=(0,l.useState)(),V=G(X,2),w=V[0],b=V[1],h=(0,l.useState)(),z=G(h,2),W=z[0],F=z[1];return(0,l.useImperativeHandle)(t,function(){return W},[W]),(0,s.jsx)(E.X.Provider,{value:{AMap:w,map:W},children:(0,s.jsx)(m._,{mapKey:n,version:a,plugins:v,Loca:T,AMapUI:g,loading:L,onComplete:function(N){R==null||R(N),b(N)},children:(0,s.jsx)(p,x(x({loading:L},Z),{},{onMapCreate:function(N){F(N)}}))})})})},76746:function(B,S,r){r.d(S,{T:function(){return M},p:function(){return j}});var l=r(50959);function m(u){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m(u)}function y(u,o,d){return o=c(o),o in u?Object.defineProperty(u,o,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[o]=d,u}function c(u){var o=O(u,"string");return m(o)==="symbol"?o:String(o)}function O(u,o){if(m(u)!=="object"||u===null)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var f=d.call(u,o||"default");if(m(f)!=="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(u)}function M(u,o,d){var f={},P=function(s,p){return s in d?d[s](p[s]):p[s]};return o.forEach(function(i){if(i in u)if(i==="style"&&u.style!==void 0){var s=Object.keys(u.style);s.forEach(function(p){f[p]=u.style[p]})}else i!=="visible"&&(f[i]=P(i,u))}),f}function j(u,o){var d;return!u||l.Children.count(u)!==1?null:l.cloneElement(l.Children.only(u),(d={},y(d,"".concat(o.key),o.instance),y(d,"map",o.map),d))}},66724:function(B,S,r){r.d(S,{t:function(){return m}});var l=r(95704),m=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var O=0,M=0;Array.isArray(c)?(O=c[0],M=c[1]):"lng"in c&&"lat"in c?(O=c.lng,M=c.lat):"longitude"in c&&"latitude"in c&&(O=c.longitude,M=c.latitude);var j=(0,l.rr)();return l.Ym&&j?new j.LngLat(O,M):null}},79385:function(B,S,r){r.r(S),r.d(S,{default:function(){return P}});var l=r(54306),m=r.n(l),y=r(50959),c=r(34422),O=r(89609),M=r(80667),j=r(625),u={active:function(s,p){p&&(s?p.open():p.close())}},o={},d=y.forwardRef(function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,p=(0,j.S)(),E=p.map,C=p.AMap,A=(0,y.useRef)(null),I=(0,M.s)(i,A,{setterMap:u,converterMap:o}),x=I.onInstanceCreated;(0,y.useEffect)(function(){i.map&&i.ellipse&&K().then(function(){x==null||x(A.current)})},[i.map,i.ellipse]),(0,y.useImperativeHandle)(s,function(){return A.current},[A.current]);var K=function(){return new Promise(function($){E.plugin(["AMap.EllipseEditor"],function(){A.current=new C.EllipseEditor(i.map,i.ellipse),$()})})};return null}),f=r(11527),P=function(){var i=(0,y.useState)(!0),s=m()(i,2),p=s[0],E=s[1],C=(0,y.useState)({longitude:120,latitude:30}),A=m()(C,1),I=A[0],x=function(){E(function(D){return!D})};return(0,f.jsxs)("div",{style:{height:500},children:[(0,f.jsx)(c.D,{center:I,zoom:4,children:(0,f.jsx)(O.P,{center:I,radius:[1e6,2e5],children:(0,f.jsx)(d,{active:p})})}),(0,f.jsx)("button",{onClick:function(){x()},children:"Random Active"})]})}}}]);
