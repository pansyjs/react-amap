"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7010],{15455:function(J,g,e){e.r(g),e.d(g,{default:function(){return T}});var j=e(54306),m=e.n(j),n=e(50959),C=e(34422),z=e(25552),p=e(1006),P=e(57682),I=e(91227),M=e(80667),b=["loca","zIndex","zooms","opacity"],D=b.concat(["visible"]),R={visible:function(s,t){t&&(s?t.show():t.hide())}},L={},w=(0,n.forwardRef)(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,t=(0,p.l)(),d=t.loca,r=(0,n.useRef)(),v=(0,M.s)(l,r,{setterMap:R,converterMap:L}),i=v.onInstanceCreated;return(0,n.useEffect)(function(){if(d){var h=(0,I.T)(l,D,L);r.current=new window.Loca.PulseLinkLayer(h),i==null||i(r.current)}},[d]),(0,n.useImperativeHandle)(s,function(){return r.current},[r.current]),null}),A=e(81077),a=e(11527),E=function(){var s=(0,p.l)(),t=s.loca,d=(0,n.useState)(!0),r=m()(d,2),v=r[0],i=r[1],h=(0,n.useState)(),y=m()(h,2),c=y[0],W=y[1],k=(0,n.useState)(),x=m()(k,2),u=x[0],G=x[1];return(0,n.useEffect)(function(){if(c&&t&&u){var f=new window.Loca.GeoJSONSource({url:"https://a.amap.com/Loca/static/loca-v2/demos/mock_data/pulselink-china-city-point.json"});c.setSource(f),c.setStyle({unit:"meter",size:[2e5,2e5],borderWidth:0,texture:"https://a.amap.com/Loca/static/static/green.png",duration:2e3,animate:!0}),t.add(c);var o=new window.Loca.GeoJSONSource({url:"https://a.amap.com/Loca/static/loca-v2/demos/mock_data/data-line-out.json"});u.setSource(o),u.setStyle({unit:"meter",dash:[4e4,0,4e4,0],lineWidth:function(){return[8e3,8e3]},height:function(N,H){return H.distance/3+10},smoothSteps:30,speed:function(){return 1e3+Math.random()*1e5},flowLength:1e5,lineColors:function(){return["rgba(44, 119, 248, 0.9)","rgba(44, 119, 248, 0.5)","rgba(44, 119, 248, 0.2)"]},maxHeightScale:.3,headColor:"rgb(3, 214, 252)",trailColor:"rgba(255, 255,0,0)"}),t.add(u),t.animate.start()}},[c,u,t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.ZP,{onClick:function(){i(function(o){return!o})},children:"\u5207\u6362\u663E\u9690"}),(0,a.jsx)(P.A,{zIndex:10,opacity:.6,visible:v,zooms:[2,22],events:{created:function(o){W(o)}}}),(0,a.jsx)(w,{zIndex:10,opacity:1,visible:v,zooms:[2,22],depth:!0,events:{created:function(o){G(o)}}})]})},T=function(){return(0,a.jsx)("div",{style:{height:500},children:(0,a.jsx)(C.D,{Loca:{},viewMode:"3D",pitch:35,center:[104.780269,34.955403],zoom:5,mapStyle:"amap://styles/grey",children:(0,a.jsx)(A.o,{children:(0,a.jsx)(E,{})})})})}}}]);
