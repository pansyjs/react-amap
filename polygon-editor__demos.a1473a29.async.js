"use strict";(self.webpackChunk_pansy_workspace=self.webpackChunk_pansy_workspace||[]).push([[7894],{78588:function(C,_,e){e.r(_);var i=e(54306),h=e.n(i),u=e(79685),P=e(59712),p=e(73101),n=e(40925),o=e(91134),t=e(63342);_.default=function(){var l=(0,u.useState)(!0),v=h()(l,2),c=v[0],r=v[1],a=(0,u.useState)([[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]]),s=h()(a,1),m=s[0],M=function(){r(function(O){return!O})};return(0,t.jsxs)("div",{style:{height:500},children:[(0,t.jsx)(p.D,{zoom:14,center:[116.400274,39.905812],children:(0,t.jsx)(n.m,{path:m,children:(0,t.jsx)(o.$,{active:c})})}),(0,t.jsx)(P.ZP,{onClick:function(){M()},children:"Random Active"})]})}},14299:function(C,_,e){e.r(_);var i=e(79685),h=e(73101),u=e(91134),P=e(40925),p=e(63342);_.default=function(){var n=(0,i.useRef)(),o=(0,i.useRef)(),t=(0,i.useRef)(),l=function(){n.current&&o.current&&t.current&&(n.current.addAdsorbPolygons([o.current,t.current]),n.current.setTarget(o.current),n.current.open())};return(0,p.jsx)("div",{style:{height:500},children:(0,p.jsxs)(h.D,{center:[116.475334,39.997534],zoom:16,children:[(0,p.jsx)(u.$,{events:{created:function(c){n.current=c,l()}}}),(0,p.jsx)(P.m,{path:[[116.474595,40.001321],[116.473526,39.999865],[116.476284,40.000917]],events:{created:function(c){o.current=c,l()},dblclick:function(){n.current.setTarget(o.current),n.current.open()}}}),(0,p.jsx)(P.m,{path:[[116.475334,39.997534],[116.476627,39.998315],[116.478603,39.99879],[116.478529,40.000296],[116.475082,40.000151],[116.473421,39.998717]],events:{created:function(c){t.current=c,l()},dblclick:function(){n.current.setTarget(t.current),n.current.open()}}})]})})}},30084:function(C,_,e){e.r(_),e.d(_,{default:function(){return s}});var i=e(54306),h=e.n(i),u=e(79685),P=e(31329),p=e(73101),n=e(91134),o=e(7825),t=e(72561),l={},v={},c=u.forwardRef(function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0,d=(0,u.useRef)(null),O=(0,t.S)(),A=O.map,E=O.AMap,y=(0,o.s)(m,d,{setterMap:l,converterMap:v}),I=y.loaded,D=y.onInstanceCreated;(0,u.useEffect)(function(){A&&j().then(function(){D==null||D(d.current)})},[A]),(0,u.useImperativeHandle)(M,function(){return d.current},[I]);var j=function(){return new Promise(function(g){d.current=new E.OverlayGroup([]),g()})},R=function(g){return g?u.Children.map(g,function(T){return u.cloneElement(T,{events:{created:function(x){d.current&&d.current.addOverlay(x)}}})}):null};return I?R(m.children):null}),r=e(40925),a=e(63342),s=function(){var m=(0,u.useRef)(),M=(0,u.useRef)([]),d=(0,u.useState)([[[116.474595,40.001321],[116.473526,39.999865],[116.476284,40.000917]],[[116.475334,39.997534],[116.476627,39.998315],[116.478603,39.99879],[116.478529,40.000296],[116.475082,40.000151],[116.473421,39.998717]]]),O=h()(d,1),A=O[0],E=(0,u.useRef)(),y=(0,u.useRef)(),I=function(f){E.current&&(E.current.addAdsorbPolygons(f),E.current.setTarget(f[0]),E.current.open(),M.current=f[0].getPath(),y.current.on("dblclick",D))},D=function(f){var g=f.target;M.current=g.getPath(),E.current.setTarget(g),E.current.open()},j=function(f){y.current=f,setTimeout(function(){var g=y.current.getOverlays();g.length&&I(g)},0)};return(0,a.jsx)("div",{style:{height:500},children:(0,a.jsxs)(p.D,{center:[116.475334,39.997534],zoom:16,events:{created:function(f){m.current=f}},children:[(0,a.jsx)(n.$,{events:{created:function(f){E.current=f},removenode:function(f){var g=f.target,T=g.getPath();if(T.length===0){var L=y.current.getOverlays();if(L.length===1){P.ZP.warning("\u533A\u57DF\u5FC5\u987B\u5269\u4F59\u4E00\u4E2A");var x=new AMap.Polygon({map:m.current,path:M.current});y.current.removeOverlay(g),y.current.addOverlay(x),y.current.on("dblclick",D)}y.current.removeOverlay(g);return}M.current=T}}}),(0,a.jsx)(c,{events:{created:j},children:A.map(function(R,f){return(0,a.jsx)(r.m,{path:R},f)})})]})})}},91134:function(C,_,e){e.d(_,{$:function(){return n}});var i=e(79685),h=e(72561),u=e(7825),P={active:function(t,l){l&&(t?l.open():l.close())}},p={},n=i.forwardRef(function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,l=(0,h.S)(),v=l.map,c=l.AMap,r=(0,i.useRef)(null),a=(0,u.s)(o,r,{setterMap:P,converterMap:p}),s=a.onInstanceCreated;(0,i.useEffect)(function(){v&&m().then(function(){s==null||s(r.current)})},[v,o.poly]),(0,i.useImperativeHandle)(t,function(){return r.current},[r.current]);var m=function(){return new Promise(function(d){c.plugin(["AMap.PolygonEditor"],function(){r.current=new c.PolygonEditor(v,o.poly),d()})})};return null})},40925:function(C,_,e){e.d(_,{m:function(){return c}});var i=e(79685),h=e(72561),u=e(7825),P=e(39696),p=e(69841);function n(r){var a=this;return r.length?r.map(function(s,m){return Array.isArray(s[m])?a.buildPathValue(s):(0,p.t)(s)}):r}var o=["center","radius","draggable","extData","visible","style"],t=o.concat(["zIndex","bubble"]),l={visible:function(a,s){s&&(a?s.show():s.hide())},style:function(a,s){s&&s.setOptions(a)}},v={path:function(a){return n(a)}},c=i.forwardRef(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,s=(0,h.S)(),m=s.map,M=s.AMap,d=(0,i.useRef)(null),O=(0,u.s)(r,d,{setterMap:l,converterMap:v}),A=O.loaded,E=O.onInstanceCreated;(0,i.useEffect)(function(){m&&y().then(function(){E==null||E(d.current)})},[m]),(0,i.useImperativeHandle)(a,function(){return d.current},[A]);var y=function(){var D=(0,P.T)(r,t,v);return D.map=m,d.current=new M.Polygon(D),Promise.resolve()};return A?(0,P.p)(r.children,{key:"poly",instance:d.current,map:m}):null})},39696:function(C,_,e){e.d(_,{T:function(){return P},p:function(){return p}});var i=e(52510),h=e.n(i),u=e(79685);function P(n,o,t){var l={},v=function(r,a){return r in t?t[r](a[r]):a[r]};return o.forEach(function(c){if(c in n)if(c==="style"&&n.style!==void 0){var r=Object.keys(n.style);r.forEach(function(a){l[a]=n.style[a]})}else c!=="visible"&&(l[c]=v(c,n))}),l}function p(n,o){var t;return!n||u.Children.count(n)!==1?null:u.cloneElement(u.Children.only(n),(t={},h()(t,"".concat(o.key),o.instance),h()(t,"map",o.map),t))}}}]);
