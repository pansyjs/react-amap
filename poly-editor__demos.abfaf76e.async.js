"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5962],{625:function(x,b,r){r.d(b,{S:function(){return h},X:function(){return m}});var i=r(50959),m=(0,i.createContext)({}),h=function(){return(0,i.useContext)(m)}},34422:function(x,b,r){r.d(b,{D:function(){return te}});var i=r(50959),m=r(35354),h=r(80667),f=r(66724),M=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],d=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],p=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],a={width:"100%",height:"100%",position:"relative"},u={width:"100%",height:"100%"},v=M.concat(d,p),_={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},l={center:f.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},s=r(95704),o=r(11527),y=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,i.useRef)(),c=(0,i.useRef)(),P=(0,h.s)(t,c,{setterMap:_,converterMap:l}),E=P.loaded,W=P.prevProps,I=P.onInstanceCreated;(0,i.useEffect)(function(){D().then(function(){var j;(j=t.onMapCreate)===null||j===void 0||j.call(t,c.current),I==null||I(c.current)})},[]),(0,i.useEffect)(function(){E&&N(W,t)},[t]);var D=function(){var O=z(),S=(0,s.rr)();return c.current=new S.Map(n.current,O),Promise.resolve()},z=function(){var O={};return v.forEach(function(S){S in t&&(O[S]=V(S,t))}),O},V=function(O,S){return O in l?l[O](S[O]):S[O]},N=function(O,S){var U={},B=!1,$=!1;d.forEach(function(w){w in S&&($=!0,H(w,O,S)&&(B=!0,U[w]=S[w]))}),B&&c.current.setStatus(U)},H=function(O,S,U){return S[O]!==U[O]};return(0,o.jsxs)("div",{style:a,children:[(0,o.jsx)("div",{ref:n,style:u,children:E?null:t.loading}),(0,o.jsx)("div",{children:E?t.children:null})]})},R=r(625);function g(e){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(e)}var L=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter(function(P){return Object.getOwnPropertyDescriptor(e,P).enumerable})),n.push.apply(n,c)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(c){T(e,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(n,c))})}return e}function T(e,t,n){return t=F(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t=K(e,"string");return g(t)==="symbol"?t:String(t)}function K(e,t){if(g(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var c=n.call(e,t||"default");if(g(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X(e,t){return k(e)||Q(e,t)||J(e,t)||Y()}function Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,t){if(e){if(typeof e=="string")return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}}function G(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function Q(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var c,P,E,W,I=[],D=!0,z=!1;try{if(E=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;D=!1}else for(;!(D=(c=E.call(n)).done)&&(I.push(c.value),I.length!==t);D=!0);}catch(V){z=!0,P=V}finally{try{if(!D&&n.return!=null&&(W=n.return(),Object(W)!==W))return}finally{if(z)throw P}}return I}}function k(e){if(Array.isArray(e))return e}function q(e,t){if(e==null)return{};var n=ee(e,t),c,P;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(e);for(P=0;P<E.length;P++)c=E[P],!(t.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(e,c)&&(n[c]=e[c])}return n}function ee(e,t){if(e==null)return{};var n={},c=Object.keys(e),P,E;for(E=0;E<c.length;E++)P=c[E],!(t.indexOf(P)>=0)&&(n[P]=e[P]);return n}var te=i.forwardRef(function(e,t){var n=e.mapKey,c=e.version,P=e.plugins,E=e.AMapUI,W=e.Loca,I=e.loading,D=e.onComplete,z=e.onMapCreate,V=q(e,L),N=(0,i.useState)(),H=X(N,2),j=H[0],O=H[1],S=(0,i.useState)(),U=X(S,2),B=U[0],$=U[1];return(0,i.useImperativeHandle)(t,function(){return B},[B]),(0,o.jsx)(R.X.Provider,{value:{AMap:j,map:B},children:(0,o.jsx)(m._,{mapKey:n,version:c,plugins:P,Loca:W,AMapUI:E,loading:I,onComplete:function(Z){D==null||D(Z),O(Z)},children:(0,o.jsx)(y,A(A({loading:I},V),{},{onMapCreate:function(Z){$(Z)}}))})})})},40898:function(x,b,r){r.d(b,{F:function(){return M}});var i=r(50959),m=r(80667),h={active:function(p,a){a&&(p?a.open():a.close())}},f={},M=i.forwardRef(function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0,a=(0,i.useRef)(null),u=(0,m.s)(d,a,{setterMap:h,converterMap:f}),v=u.loaded,_=u.onInstanceCreated;(0,i.useEffect)(function(){d.map&&d.poly&&l().then(function(){_==null||_(a.current)})},[d.map,d.poly]),(0,i.useImperativeHandle)(p,function(){return a.current},[v]);var l=function(){return new Promise(function(o){AMap.plugin(["AMap.PolyEditor"],function(){a.current=new AMap.PolyEditor(d.map,d.poly),o()})})};return null})},92265:function(x,b,r){r.d(b,{m:function(){return _}});var i=r(50959),m=r(625),h=r(80667),f=r(76746),M=r(66724);function d(l){var s=this;return l.length?l.map(function(o,y){return Array.isArray(o[y])?s.buildPathValue(o):(0,M.t)(o)}):l}var p=["center","radius","draggable","extData","visible","style"],a=p.concat(["zIndex","bubble"]),u={visible:function(s,o){o&&(s?o.show():o.hide())},style:function(s,o){o&&o.setOptions(s)}},v={path:function(s){return d(s)}},_=i.forwardRef(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,o=(0,m.S)(),y=o.map,R=o.AMap,g=(0,i.useRef)(null),L=(0,h.s)(l,g,{setterMap:u,converterMap:v}),C=L.loaded,A=L.onInstanceCreated;(0,i.useEffect)(function(){y&&T().then(function(){A==null||A(g.current)})},[y]),(0,i.useImperativeHandle)(s,function(){return g.current},[C]);var T=function(){var K=(0,f.T)(l,a,v);return K.map=y,g.current=new R.Polygon(K),Promise.resolve()};return C?(0,f.p)(l.children,{key:"poly",instance:g.current,map:y}):null})},67348:function(x,b,r){r.d(b,{a:function(){return _}});var i=r(50959),m=r(625),h=r(80667),f=r(76746),M=r(66724);function d(l){return l.length?"getLng"in l[0]?l:l.map(function(s){return(0,M.t)(s)}):l}var p=["path","extData","draggable","visible","style"],a=p.concat(["zIndex","bubble","showDir"]),u={visible:function(s,o){o&&(s?o.show():o.hide())},style:function(s,o){o&&o.setOptions(s)}},v={path:function(s){return d(s)}},_=i.forwardRef(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,o=(0,m.S)(),y=o.map,R=o.AMap,g=(0,i.useRef)(null),L=(0,h.s)(l,g,{setterMap:u,converterMap:v}),C=L.loaded,A=L.onInstanceCreated;(0,i.useEffect)(function(){y&&T().then(function(){A==null||A(g.current)})},[y]),(0,i.useImperativeHandle)(s,function(){return g.current},[C]);var T=function(){var K=(0,f.T)(l,a,v);return K.map=y,g.current=new R.Polyline(K),Promise.resolve()};return C?(0,f.p)(l.children,{key:"poly",instance:g.current,map:y}):null})},76746:function(x,b,r){r.d(b,{T:function(){return d},p:function(){return p}});var i=r(50959);function m(a){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},m(a)}function h(a,u,v){return u=f(u),u in a?Object.defineProperty(a,u,{value:v,enumerable:!0,configurable:!0,writable:!0}):a[u]=v,a}function f(a){var u=M(a,"string");return m(u)==="symbol"?u:String(u)}function M(a,u){if(m(a)!=="object"||a===null)return a;var v=a[Symbol.toPrimitive];if(v!==void 0){var _=v.call(a,u||"default");if(m(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(a)}function d(a,u,v){var _={},l=function(o,y){return o in v?v[o](y[o]):y[o]};return u.forEach(function(s){if(s in a)if(s==="style"&&a.style!==void 0){var o=Object.keys(a.style);o.forEach(function(y){_[y]=a.style[y]})}else s!=="visible"&&(_[s]=l(s,a))}),_}function p(a,u){var v;return!a||i.Children.count(a)!==1?null:i.cloneElement(i.Children.only(a),(v={},h(v,"".concat(u.key),u.instance),h(v,"map",u.map),v))}},66724:function(x,b,r){r.d(b,{t:function(){return m}});var i=r(95704),m=function(f){if(!f)return null;if("getLng"in f&&"getLat"in f)return f;var M=0,d=0;Array.isArray(f)?(M=f[0],d=f[1]):"lng"in f&&"lat"in f?(M=f.lng,d=f.lat):"longitude"in f&&"latitude"in f&&(M=f.longitude,d=f.latitude);var p=(0,i.rr)();return i.Ym&&p?new p.LngLat(M,d):null}},31371:function(x,b,r){r.r(b);var i=r(54306),m=r.n(i),h=r(50959),f=r(34422),M=r(67348),d=r(40898),p=r(11527),a=function(){return{longitude:60+Math.random()*50,latitude:10+Math.random()*40}};b.default=function(){var u=(0,h.useState)(!0),v=m()(u,2),_=v[0],l=v[1],s=(0,h.useState)(Array(3).fill(!0).map(a)),o=m()(s,1),y=o[0],R=(0,h.useState)({longitude:120,latitude:30}),g=m()(R,1),L=g[0],C=function(){l(function(T){return!T})};return(0,p.jsxs)("div",{style:{height:500},children:[(0,p.jsx)(f.D,{center:L,zoom:3,children:(0,p.jsx)(M.a,{path:y,children:(0,p.jsx)(d.F,{active:_})})}),(0,p.jsx)("button",{onClick:function(){C()},children:"Random Active"})]})}},70063:function(x,b,r){r.r(b);var i=r(54306),m=r.n(i),h=r(50959),f=r(34422),M=r(92265),d=r(40898),p=r(11527);b.default=function(){var a=(0,h.useState)(!0),u=m()(a,2),v=u[0],_=u[1],l=(0,h.useState)([[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]]),s=m()(l,1),o=s[0],y=function(){_(function(g){return!g})};return(0,p.jsxs)("div",{style:{height:500},children:[(0,p.jsx)(f.D,{zoom:14,center:[116.400274,39.905812],children:(0,p.jsx)(M.m,{path:o,children:(0,p.jsx)(d.F,{active:v})})}),(0,p.jsx)("button",{onClick:function(){y()},children:"Random Active"})]})}}}]);
