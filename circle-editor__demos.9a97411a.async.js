"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5717],{20916:function(B,E,r){r.d(E,{C:function(){return v}});var l=r(50959),d=r(625),m=r(80667),c=r(76746),A=r(66724),P=["center","radius","draggable","extData","visible","style"],I=P.concat(["zIndex","bubble"]),u={visible:function(p,s){s&&(p?s.show():s.hide())},style:function(p,s){s&&s.setOptions(p)}},o={center:A.t},v=l.forwardRef(function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0,s=(0,d.S)(),i=s.map,g=s.AMap,b=(0,l.useRef)(null),C=(0,m.s)(y,b,{setterMap:u,converterMap:o}),D=C.loaded,j=C.onInstanceCreated;(0,l.useEffect)(function(){i&&O().then(function(){j==null||j(b.current)})},[i]),(0,l.useImperativeHandle)(p,function(){return b.current},[b.current]);var O=function(){var x=(0,c.T)(y,I,o);return x.map=i,b.current=new g.Circle(x),Promise.resolve()};return D?(0,c.p)(y.children,{key:"circle",instance:b.current,map:i}):null})},625:function(B,E,r){r.d(E,{S:function(){return m},X:function(){return d}});var l=r(50959),d=(0,l.createContext)({}),m=function(){return(0,l.useContext)(d)}},34422:function(B,E,r){r.d(E,{D:function(){return te}});var l=r(50959),d=r(35354),m=r(80667),c=r(66724),A=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],P=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],I=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor"],u={width:"100%",height:"100%",position:"relative"},o={width:"100%",height:"100%"},v=A.concat(P,I),y={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},p={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},s=r(95704),i=r(11527),g=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,l.useRef)(),a=(0,l.useRef)(),f=(0,m.s)(t,a,{setterMap:y,converterMap:p}),h=f.loaded,T=f.prevProps,R=f.onInstanceCreated;(0,l.useEffect)(function(){L().then(function(){var w;(w=t.onMapCreate)===null||w===void 0||w.call(t,a.current),R==null||R(a.current)})},[]),(0,l.useEffect)(function(){h&&Y(T,t)},[t]);var L=function(){var M=H(),S=(0,s.rr)();return a.current=new S.Map(n.current,M),Promise.resolve()},H=function(){var M={};return v.forEach(function(S){S in t&&(M[S]=V(S,t))}),M},V=function(M,S){return M in p?p[M](S[M]):S[M]},Y=function(M,S){var z={},U=!1,G=!1;P.forEach(function(W){W in S&&(G=!0,N(W,M,S)&&(U=!0,z[W]=S[W]))}),U&&a.current.setStatus(z)},N=function(M,S,z){return S[M]!==z[M]};return(0,i.jsxs)("div",{style:u,children:[(0,i.jsx)("div",{ref:n,style:o,children:h?null:t.loading}),(0,i.jsx)("div",{children:h?t.children:null})]})},b=r(625);function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}var D=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(a){K(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function K(e,t,n){return t=x(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=Z(e,"string");return C(t)==="symbol"?t:String(t)}function Z(e,t){if(C(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(C(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X(e,t){return q(e)||k(e,t)||Q(e,t)||F()}function F(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(e,t){if(e){if(typeof e=="string")return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function k(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,f,h,T,R=[],L=!0,H=!1;try{if(h=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;L=!1}else for(;!(L=(a=h.call(n)).done)&&(R.push(a.value),R.length!==t);L=!0);}catch(V){H=!0,f=V}finally{try{if(!L&&n.return!=null&&(T=n.return(),Object(T)!==T))return}finally{if(H)throw f}}return R}}function q(e){if(Array.isArray(e))return e}function _(e,t){if(e==null)return{};var n=ee(e,t),a,f;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(f=0;f<h.length;f++)a=h[f],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ee(e,t){if(e==null)return{};var n={},a=Object.keys(e),f,h;for(h=0;h<a.length;h++)f=a[h],!(t.indexOf(f)>=0)&&(n[f]=e[f]);return n}var te=l.forwardRef(function(e,t){var n=e.mapKey,a=e.version,f=e.plugins,h=e.AMapUI,T=e.Loca,R=e.loading,L=e.onComplete,H=e.onMapCreate,V=_(e,D),Y=(0,l.useState)(),N=X(Y,2),w=N[0],M=N[1],S=(0,l.useState)(),z=X(S,2),U=z[0],G=z[1];return(0,l.useImperativeHandle)(t,function(){return U},[U]),(0,i.jsx)(b.X.Provider,{value:{AMap:w,map:U},children:(0,i.jsx)(d._,{mapKey:n,version:a,plugins:f,Loca:T,AMapUI:h,loading:R,onComplete:function($){L==null||L($),M($)},children:(0,i.jsx)(g,O(O({loading:R},V),{},{onMapCreate:function($){G($)}}))})})})},76746:function(B,E,r){r.d(E,{T:function(){return P},p:function(){return I}});var l=r(50959);function d(u){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},d(u)}function m(u,o,v){return o=c(o),o in u?Object.defineProperty(u,o,{value:v,enumerable:!0,configurable:!0,writable:!0}):u[o]=v,u}function c(u){var o=A(u,"string");return d(o)==="symbol"?o:String(o)}function A(u,o){if(d(u)!=="object"||u===null)return u;var v=u[Symbol.toPrimitive];if(v!==void 0){var y=v.call(u,o||"default");if(d(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(u)}function P(u,o,v){var y={},p=function(i,g){return i in v?v[i](g[i]):g[i]};return o.forEach(function(s){if(s in u)if(s==="style"&&u.style!==void 0){var i=Object.keys(u.style);i.forEach(function(g){y[g]=u.style[g]})}else s!=="visible"&&(y[s]=p(s,u))}),y}function I(u,o){var v;return!u||l.Children.count(u)!==1?null:l.cloneElement(l.Children.only(u),(v={},m(v,"".concat(o.key),o.instance),m(v,"map",o.map),v))}},66724:function(B,E,r){r.d(E,{t:function(){return d}});var l=r(95704),d=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var A=0,P=0;Array.isArray(c)?(A=c[0],P=c[1]):"lng"in c&&"lat"in c?(A=c.lng,P=c.lat):"longitude"in c&&"latitude"in c&&(A=c.longitude,P=c.latitude);var I=(0,l.rr)();return l.Ym&&I?new I.LngLat(A,P):null}},63607:function(B,E,r){r.r(E),r.d(E,{default:function(){return s}});var l=r(54306),d=r.n(l),m=r(50959),c=r(38342),A=r(34422),P=r(20916),I=r(625),u=r(80667),o={active:function(g,b){b&&(g?b.open():b.close())}},v={},y=m.forwardRef(function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0,b=i.circle,C=(0,I.S)(),D=C.map,j=C.AMap,O=(0,m.useRef)(null),K=(0,u.s)(i,O,{setterMap:o,converterMap:v}),x=K.onInstanceCreated;(0,m.useEffect)(function(){i.map&&i.circle&&Z().then(function(){x==null||x(O.current)})},[i.map,i.circle]),(0,m.useImperativeHandle)(g,function(){return O.current},[O.current]);var Z=function(){return new Promise(function(F){D.plugin(["AMap.CircleEditor"],function(){O.current=new j.CircleEditor(D,b),F()})})};return null}),p=r(11527),s=function(){var i=(0,m.useState)(!0),g=d()(i,2),b=g[0],C=g[1],D=(0,m.useState)({longitude:120,latitude:30}),j=d()(D,1),O=j[0],K=function(){C(function(Z){return!Z})};return(0,p.jsxs)("div",{style:{height:500},children:[(0,p.jsx)(A.D,{center:O,children:(0,p.jsx)(P.C,{center:O,radius:15e3,children:(0,p.jsx)(y,{active:b})})}),(0,p.jsx)(c.ZP,{onClick:function(){K()},children:"Random Active"})]})}}}]);
