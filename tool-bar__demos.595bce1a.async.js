"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8547],{625:function(A,c,r){r.d(c,{S:function(){return g},X:function(){return s}});var u=r(50959),s=(0,u.createContext)({}),g=function(){return(0,u.useContext)(s)}},34422:function(A,c,r){r.d(c,{D:function(){return te}});var u=r(50959),s=r(35354),g=r(80667),a=r(66724),f=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],v=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],i=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor"],h={width:"100%",height:"100%",position:"relative"},b={width:"100%",height:"100%"},T=f.concat(v,i),S={zoom:function(t,n){n&&n.setZoom(t)},cursor:function(t,n){n&&n.setDefaultCursor(t)},labelzIndex:function(t,n){n&&n.setLabelzIndex(t)}},_={center:a.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},E=r(95704),y=r(11527),U=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(0,u.useRef)(),o=(0,u.useRef)(),l=(0,g.s)(t,o,{setterMap:S,converterMap:_}),d=l.loaded,I=l.prevProps,M=l.onInstanceCreated;(0,u.useEffect)(function(){P().then(function(){var O;(O=t.onMapCreate)===null||O===void 0||O.call(t,o.current),M==null||M(o.current)})},[]),(0,u.useEffect)(function(){d&&X(I,t)},[t]);var P=function(){var p=B(),m=(0,E.rr)();return o.current=new m.Map(n.current,p),Promise.resolve()},B=function(){var p={};return T.forEach(function(m){m in t&&(p[m]=K(m,t))}),p},K=function(p,m){return p in _?_[p](m[p]):m[p]},X=function(p,m){var x={},D=!1,Y=!1;v.forEach(function(L){L in m&&(Y=!0,w(L,p,m)&&(D=!0,x[L]=m[L]))}),D&&o.current.setStatus(x)},w=function(p,m,x){return m[p]!==x[p]};return(0,y.jsxs)("div",{style:h,children:[(0,y.jsx)("div",{ref:n,style:b,children:d?null:t.loading}),(0,y.jsx)("div",{children:d?t.children:null})]})},C=r(625);function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}var R=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(o){H(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function H(e,t,n){return t=Z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t=F(e,"string");return j(t)==="symbol"?t:String(t)}function F(e,t){if(j(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(j(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N(e,t){return k(e)||Q(e,t)||J(e,t)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,t){if(e){if(typeof e=="string")return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}}function $(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Q(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,d,I,M=[],P=!0,B=!1;try{if(d=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;P=!1}else for(;!(P=(o=d.call(n)).done)&&(M.push(o.value),M.length!==t);P=!0);}catch(K){B=!0,l=K}finally{try{if(!P&&n.return!=null&&(I=n.return(),Object(I)!==I))return}finally{if(B)throw l}}return M}}function k(e){if(Array.isArray(e))return e}function q(e,t){if(e==null)return{};var n=ee(e,t),o,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)o=d[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function ee(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,d;for(d=0;d<o.length;d++)l=o[d],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}var te=u.forwardRef(function(e,t){var n=e.mapKey,o=e.version,l=e.plugins,d=e.AMapUI,I=e.Loca,M=e.loading,P=e.onComplete,B=e.onMapCreate,K=q(e,R),X=(0,u.useState)(),w=N(X,2),O=w[0],p=w[1],m=(0,u.useState)(),x=N(m,2),D=x[0],Y=x[1];return(0,u.useImperativeHandle)(t,function(){return D},[D]),(0,y.jsx)(C.X.Provider,{value:{AMap:O,map:D},children:(0,y.jsx)(s._,{mapKey:n,version:o,plugins:l,Loca:I,AMapUI:d,loading:M,onComplete:function(z){P==null||P(z),p(z)},children:(0,y.jsx)(U,V(V({loading:M},K),{},{onMapCreate:function(z){Y(z)}}))})})})},68237:function(A,c,r){r.d(c,{u:function(){return T}});var u=r(50959),s=r(625),g=r(80667),a=r(91227),f=r(29906),v=["visible"],i=v.concat(["position","offset"]),h={visible:function(_,E){E&&(_?E.show():E.hide())}},b={offset:f.H},T=u.forwardRef(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=arguments.length>1?arguments[1]:void 0,E=(0,s.S)(),y=E.map,U=E.AMap,C=(0,u.useRef)(null),j=(0,g.s)(S,C,{setterMap:h,converterMap:b}),R=j.onInstanceCreated;(0,u.useEffect)(function(){y&&W().then(function(){C.current.addTo(y),R==null||R(C.current)})},[y]),(0,u.useImperativeHandle)(_,function(){return C.current},[C.current]);var W=function(){return new Promise(function(H){U.plugin(["AMap.ToolBar"],function(){var Z=(0,a.T)(S,i,b);C.current=new U.ToolBar(Z),H()})})};return null})},91227:function(A,c,r){r.d(c,{T:function(){return u}});function u(s,g,a){var f={},v=function(h,b){return h in a?a[h](b[h]):b[h]};return g.forEach(function(i){i in s&&i!=="visible"&&(f[i]=v(i,s))}),f}},66724:function(A,c,r){r.d(c,{t:function(){return s}});var u=r(95704),s=function(a){if(!a)return null;if("getLng"in a&&"getLat"in a)return a;var f=0,v=0;Array.isArray(a)?(f=a[0],v=a[1]):"lng"in a&&"lat"in a?(f=a.lng,v=a.lat):"longitude"in a&&"latitude"in a&&(f=a.longitude,v=a.latitude);var i=(0,u.rr)();return u.Ym&&i?new i.LngLat(f,v):null}},29906:function(A,c,r){r.d(c,{H:function(){return s}});var u=r(95704),s=function(a){if(!a)return null;if("getX"in a&&"getY"in a)return a;var f=0,v=0;Array.isArray(a)?(f=a[0],v=a[1]):"x"in a&&"y"in a&&(f=a.x,v=a.y);var i=(0,u.rr)();return u.Ym&&i?new i.Pixel(f,v):null}},37068:function(A,c,r){r.r(c);var u=r(34422),s=r(68237),g=r(11527);c.default=function(){return(0,g.jsx)("div",{style:{height:500},children:(0,g.jsx)(u.D,{children:(0,g.jsx)(s.u,{})})})}},79802:function(A,c,r){r.r(c);var u=r(54306),s=r.n(u),g=r(50959),a=r(38342),f=r(34422),v=r(68237),i=r(11527);c.default=function(){var h=(0,g.useState)(!0),b=s()(h,2),T=b[0],S=b[1],_=function(){S(function(y){return!y})};return(0,i.jsxs)("div",{style:{height:500},children:[(0,i.jsx)(f.D,{children:(0,i.jsx)(v.u,{position:{top:"110px",right:"40px"},visible:T})}),(0,i.jsx)(a.ZP,{onClick:_,children:"Change Visible"})]})}}}]);
