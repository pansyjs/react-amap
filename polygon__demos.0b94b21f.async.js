"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3358],{625:function(B,O,a){a.d(O,{S:function(){return P},X:function(){return d}});var l=a(50959),d=(0,l.createContext)({}),P=function(){return(0,l.useContext)(d)}},34422:function(B,O,a){a.d(O,{D:function(){return ie}});var l=a(50959),d=a(35354),P=a(80667),c=a(66724),S=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],y=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],_=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],o={width:"100%",height:"100%",position:"relative"},u={width:"100%",height:"100%"},s=S.concat(y,_),M={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},m={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},p=a(95704),i=a(11527);function v(e){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(n){R(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R(e,t,r){return t=K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){var t=I(e,"string");return v(t)==="symbol"?t:String(t)}function I(e,t){if(v(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,l.useRef)(),n=(0,l.useRef)(),f=(0,P.s)(t,n,{setterMap:M,converterMap:m}),b=f.loaded,x=f.prevProps,C=f.onInstanceCreated;(0,l.useEffect)(function(){j().then(function(){var A;(A=t.onMapCreate)===null||A===void 0||A.call(t,n.current),C==null||C(n.current)})},[]),(0,l.useEffect)(function(){b&&H(x,t)},[t]);var j=function(){var g=z(),h=(0,p.rr)();return n.current=new h.Map(r.current,g),Promise.resolve()},z=function(){var g={};return s.forEach(function(h){h in t&&(g[h]=V(h,t))}),g},V=function(g,h){return g in m?m[g](h[g]):h[g]},H=function(g,h){var L={},W=!1,$=!1;y.forEach(function(U){U in h&&($=!0,N(U,g,h)&&(W=!0,L[U]=h[U]))}),W&&n.current.setStatus(L)},N=function(g,h,L){return h[g]!==L[g]};return(0,i.jsxs)("div",{className:t.className,style:E(E({},o),t.style),children:[(0,i.jsx)("div",{ref:r,style:u,children:b?null:t.loading}),(0,i.jsx)("div",{children:b?t.children:null})]})},X=a(625);function D(e){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(e)}var Q=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(n){k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k(e,t,r){return t=q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=ee(e,"string");return D(t)==="symbol"?t:String(t)}function ee(e,t){if(D(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y(e,t){return ae(e)||ne(e,t)||re(e,t)||te()}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(e,t){if(e){if(typeof e=="string")return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,f,b,x,C=[],j=!0,z=!1;try{if(b=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;j=!1}else for(;!(j=(n=b.call(r)).done)&&(C.push(n.value),C.length!==t);j=!0);}catch(V){z=!0,f=V}finally{try{if(!j&&r.return!=null&&(x=r.return(),Object(x)!==x))return}finally{if(z)throw f}}return C}}function ae(e){if(Array.isArray(e))return e}function oe(e,t){if(e==null)return{};var r=ue(e,t),n,f;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(f=0;f<b.length;f++)n=b[f],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ue(e,t){if(e==null)return{};var r={},n=Object.keys(e),f,b;for(b=0;b<n.length;b++)f=n[b],!(t.indexOf(f)>=0)&&(r[f]=e[f]);return r}var ie=l.forwardRef(function(e,t){var r=e.mapKey,n=e.version,f=e.plugins,b=e.AMapUI,x=e.Loca,C=e.loading,j=e.onComplete,z=e.onMapCreate,V=oe(e,Q),H=(0,l.useState)(),N=Y(H,2),A=N[0],g=N[1],h=(0,l.useState)(),L=Y(h,2),W=L[0],$=L[1];return(0,l.useImperativeHandle)(t,function(){return W},[W]),(0,i.jsx)(X.X.Provider,{value:{AMap:A,map:W},children:(0,i.jsx)(d._,{mapKey:r,version:n,plugins:f,Loca:x,AMapUI:b,loading:C,onComplete:function(Z){j==null||j(Z),g(Z)},children:(0,i.jsx)(w,G(G({loading:C},V),{},{onMapCreate:function(Z){$(Z)}}))})})})},92265:function(B,O,a){a.d(O,{m:function(){return M}});var l=a(50959),d=a(625),P=a(80667),c=a(76746),S=a(66724);function y(m){var p=this;return m.length?m.map(function(i,v){return Array.isArray(i[v])?p.buildPathValue(i):(0,S.t)(i)}):m}var _=["center","radius","draggable","extData","visible","style"],o=_.concat(["zIndex","bubble"]),u={visible:function(p,i){i&&(p?i.show():i.hide())},style:function(p,i){i&&i.setOptions(p)}},s={path:function(p){return y(p)}},M=l.forwardRef(function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0,i=(0,d.S)(),v=i.map,T=i.AMap,E=(0,l.useRef)(null),R=(0,P.s)(m,E,{setterMap:u,converterMap:s}),K=R.loaded,I=R.onInstanceCreated;(0,l.useEffect)(function(){v&&w().then(function(){I==null||I(E.current)})},[v]),(0,l.useImperativeHandle)(p,function(){return E.current},[K]);var w=function(){var D=(0,c.T)(m,o,s);return D.map=v,E.current=new T.Polygon(D),Promise.resolve()};return K?(0,c.p)(m.children,{key:"poly",instance:E.current,map:v}):null})},76746:function(B,O,a){a.d(O,{T:function(){return y},p:function(){return _}});var l=a(50959);function d(o){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},d(o)}function P(o,u,s){return u=c(u),u in o?Object.defineProperty(o,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[u]=s,o}function c(o){var u=S(o,"string");return d(u)==="symbol"?u:String(u)}function S(o,u){if(d(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var M=s.call(o,u||"default");if(d(M)!=="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}function y(o,u,s){var M={},m=function(i,v){return i in s?s[i](v[i]):v[i]};return u.forEach(function(p){if(p in o)if(p==="style"&&o.style!==void 0){var i=Object.keys(o.style);i.forEach(function(v){M[v]=o.style[v]})}else p!=="visible"&&(M[p]=m(p,o))}),M}function _(o,u){var s;return!o||l.Children.count(o)!==1?null:l.cloneElement(l.Children.only(o),(s={},P(s,"".concat(u.key),u.instance),P(s,"map",u.map),s))}},66724:function(B,O,a){a.d(O,{t:function(){return d}});var l=a(95704),d=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var S=0,y=0;Array.isArray(c)?(S=c[0],y=c[1]):"lng"in c&&"lat"in c?(S=c.lng,y=c.lat):"longitude"in c&&"latitude"in c&&(S=c.longitude,y=c.latitude);var _=(0,l.rr)();return l.Ym&&_?new _.LngLat(S,y):null}},29807:function(B,O,a){a.r(O);var l=a(54306),d=a.n(l),P=a(50959),c=a(34422),S=a(92265),y=a(11527);O.default=function(){var _=(0,P.useState)(!0),o=d()(_,2),u=o[0],s=o[1],M=(0,P.useState)(!0),m=d()(M,2),p=m[0],i=m[1],v=(0,P.useState)([[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]]),T=d()(v,1),E=T[0],R=function(){s(function(w){return!w})},K=function(){i(function(w){return!w})};return(0,y.jsxs)("div",{style:{height:500},children:[(0,y.jsx)(c.D,{zoom:14,center:[116.400274,39.905812],children:(0,y.jsx)(S.m,{path:E,draggable:p,visible:u})}),(0,y.jsx)("button",{onClick:R,children:"Toggle Visible"}),(0,y.jsx)("button",{onClick:K,children:"Toggle Draggable"})]})}}}]);
