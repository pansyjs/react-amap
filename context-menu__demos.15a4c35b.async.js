"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[654],{625:function(B,b,i){i.d(b,{S:function(){return S},X:function(){return y}});var c=i(50959),y=(0,c.createContext)({}),S=function(){return(0,c.useContext)(y)}},34422:function(B,b,i){i.d(b,{D:function(){return ie}});var c=i(50959),y=i(35354),S=i(80667),f=i(66724),h=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],O=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],g=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor","WebGLParams"],E={width:"100%",height:"100%",position:"relative"},I={width:"100%",height:"100%"},C=h.concat(O,g),A={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},F={center:f.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},$=i(95704),w=i(11527);function D(e){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(n){_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _(e,t,r){return t=ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){var t=L(e,"string");return D(t)==="symbol"?t:String(t)}function L(e,t){if(D(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var te=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,c.useRef)(),n=(0,c.useRef)(),s=(0,S.s)(t,n,{setterMap:A,converterMap:F}),v=s.loaded,T=s.prevProps,M=s.onInstanceCreated;(0,c.useEffect)(function(){j().then(function(){var x;(x=t.onMapCreate)===null||x===void 0||x.call(t,n.current),M==null||M(n.current)})},[]),(0,c.useEffect)(function(){v&&ae(T,t)},[t]);var j=function(){var m=V(),d=(0,$.rr)();return n.current=new d.Map(r.current,m),Promise.resolve()},V=function(){var m={};return C.forEach(function(d){d in t&&(m[d]=H(d,t))}),m},H=function(m,d){return m in F?F[m](d[m]):d[m]},ae=function(m,d){var K={},Z=!1,ue=!1;O.forEach(function(U){U in d&&(ue=!0,k(U,m,d)&&(Z=!0,K[U]=d[U]))}),Z&&n.current.setStatus(K)},k=function(m,d,K){return d[m]!==K[m]};return(0,w.jsxs)("div",{className:t.className,style:G(G({},E),t.style),children:[(0,w.jsx)("div",{ref:r,style:I,children:v?null:t.loading}),(0,w.jsx)("div",{children:v?t.children:null})]})},a=i(625);function o(e){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(e)}var l=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(n){p(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p(e,t,r){return t=z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=re(e,"string");return o(t)==="symbol"?t:String(t)}function re(e,t){if(o(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W(e,t){return R(e)||Q(e,t)||Y(e,t)||ne()}function ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y(e,t){if(e){if(typeof e=="string")return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,v,T,M=[],j=!0,V=!1;try{if(v=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;j=!1}else for(;!(j=(n=v.call(r)).done)&&(M.push(n.value),M.length!==t);j=!0);}catch(H){V=!0,s=H}finally{try{if(!j&&r.return!=null&&(T=r.return(),Object(T)!==T))return}finally{if(V)throw s}}return M}}function R(e){if(Array.isArray(e))return e}function N(e,t){if(e==null)return{};var r=oe(e,t),n,s;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);for(s=0;s<v.length;s++)n=v[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,v;for(v=0;v<n.length;v++)s=n[v],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var ie=c.forwardRef(function(e,t){var r=e.mapKey,n=e.version,s=e.plugins,v=e.AMapUI,T=e.Loca,M=e.loading,j=e.onComplete,V=e.onMapCreate,H=N(e,l),ae=(0,c.useState)(),k=W(ae,2),x=k[0],m=k[1],d=(0,c.useState)(),K=W(d,2),Z=K[0],ue=K[1];return(0,c.useImperativeHandle)(t,function(){return Z},[Z]),(0,w.jsx)(a.X.Provider,{value:{AMap:x,map:Z},children:(0,w.jsx)(y._,{mapKey:r,version:n,plugins:s,Loca:T,AMapUI:v,loading:M,onComplete:function(q){j==null||j(q),m(q)},children:(0,w.jsx)(te,P(P({loading:M},H),{},{onMapCreate:function(q){ue(q)}}))})})})},91227:function(B,b,i){i.d(b,{T:function(){return c}});function c(y,S,f){var h={},O=function(E,I){return E in f?f[E](I[E]):I[E]};return S.forEach(function(g){g in y&&g!=="visible"&&(h[g]=O(g,y))}),h}},88421:function(B,b,i){i.d(b,{Se:function(){return y},ZT:function(){return c}});var c=function(){},y=function(f){return!!f&&typeof f=="function"}},66724:function(B,b,i){i.d(b,{t:function(){return y}});var c=i(95704),y=function(f){if(!f)return null;if("getLng"in f&&"getLat"in f)return f;var h=0,O=0;Array.isArray(f)?(h=f[0],O=f[1]):"lng"in f&&"lat"in f?(h=f.lng,O=f.lat):"longitude"in f&&"latitude"in f&&(h=f.longitude,O=f.latitude);var g=(0,c.rr)();return c.Ym&&g?new g.LngLat(h,O):null}},48542:function(B,b,i){i.r(b),i.d(b,{default:function(){return te}});var c=i(50959),y=i(34422),S=i(91227),f=i(80667),h=i(625),O=["content"],g=O.concat([]),E={},I={},C=i(11527);function A(a){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},A(a)}function F(a,o){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);o&&(u=u.filter(function(P){return Object.getOwnPropertyDescriptor(a,P).enumerable})),l.push.apply(l,u)}return l}function $(a){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?F(Object(l),!0).forEach(function(u){w(a,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):F(Object(l)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(l,u))})}return a}function w(a,o,l){return o=D(o),o in a?Object.defineProperty(a,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[o]=l,a}function D(a){var o=X(a,"string");return A(o)==="symbol"?o:String(o)}function X(a,o){if(A(a)!=="object"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,o||"default");if(A(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}var G=c.forwardRef(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,l=(0,h.S)(),u=l.map,P=l.AMap,p=(0,c.useRef)(null),z=(0,f.s)(a,p,{setterMap:E,converterMap:I}),re=z.loaded,W=z.onInstanceCreated;(0,c.useEffect)(function(){return u&&ne().then(function(){u.on("rightclick",Y),W==null||W(p.current)}),function(){p.current&&(p.current.off("rightclick",Y),u.remove(p.current))}},[u]),(0,c.useImperativeHandle)(o,function(){return p.current},[p.current]);var ne=function(){var R=(0,S.T)(a,g,I);return p.current=new P.ContextMenu(R),Promise.resolve()},Y=function(R){p.current&&p.current.open(u,R.lnglat)},J=function(){var R=c.Children.toArray(a.children);return(0,C.jsx)(C.Fragment,{children:R.map(function(N,oe){return c.isValidElement(N)?c.cloneElement(N,$($({},N.props),{},{map:u,contextMenu:p.current,key:oe})):null})})};return re?J():null}),_=i(88421),ee=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=o.text,u=l===void 0?"":l,P=o.contextMenu,p=o.onClick,z=p===void 0?_.ZT:p;return(0,c.useEffect)(function(){return P&&P.addItem(u,z),function(){P&&P.removeItem(u,z)}},[o.contextMenu,o.text,o.onClick]),null},L=G;L.Item=ee;var te=function(){var a=(0,c.useRef)(),o=function(u){if(a.current)switch(u){case"zoomIn":a.current.zoomIn();break;case"zoomOut":a.current.zoomOut();break;case"center":a.current.setZoomAndCenter(4,[108.946609,34.262324]);break}};return(0,C.jsx)("div",{style:{height:500},children:(0,C.jsx)(y.D,{events:{created:function(u){a.current=u}},children:(0,C.jsxs)(L,{children:[(0,C.jsx)(L.Item,{text:"\u653E\u5927\u4E00\u7EA7",onClick:function(){o("zoomIn")}}),(0,C.jsx)(L.Item,{text:"\u7F29\u5C0F\u4E00\u7EA7",onClick:function(){return o("zoomOut")}}),(0,C.jsx)(L.Item,{text:"\u7F29\u653E\u81F3\u5168\u56FD\u8303\u56F4",onClick:function(){return o("center")}})]})})})}}}]);
