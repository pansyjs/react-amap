(self.webpackChunk_pansy_workspace=self.webpackChunk_pansy_workspace||[]).push([[7250],{22608:function(s,c,a){"use strict";a.r(c);var A=a(43080),d=a(63342);c.default=function(){return(0,d.jsx)(A._,{onComplete:function(p){console.log("\u5DF2\u52A0\u8F7D AMap Api"),console.log(p)},children:"\u9AD8\u5FB7 JS Api \u5DF2\u52A0\u8F7D"})}},69716:function(s,c,a){"use strict";a.r(c);var A=a(43080),d=a(63342);c.default=function(){return(0,d.jsx)(A._,{AMapUI:{},onComplete:function(){console.log("\u5DF2\u52A0\u8F7D AMapUI Api"),console.log(window.AMapUI)},children:"AMapUI Api \u5DF2\u52A0\u8F7D"})}},99114:function(s,c,a){"use strict";a.r(c);var A=a(43080),d=a(63342);c.default=function(){return(0,d.jsx)(A._,{Loca:{},onComplete:function(){console.log("\u5DF2\u52A0\u8F7D Loca Api"),console.log(window.Loca)},children:"Loca Api \u5DF2\u52A0\u8F7D"})}},1855:function(s,c,a){"use strict";a.r(c);var A=a(43080),d=a(63342);c.default=function(){return(0,d.jsx)(A._,{plugins:["AMap.Scale"],onComplete:function(p){console.log("\u5DF2\u52A0\u8F7D AMap Api \u548C AMap.Scale \u63D2\u4EF6"),console.log(p)},children:"\u9AD8\u5FB7 JS Api \u3001 AMap.Scale \u63D2\u4EF6 \u5DF2\u52A0\u8F7D"})}},43080:function(s,c,a){"use strict";a.d(c,{_:function(){return R}});var A=a(76091),d=a.n(A),f=a(7863),p=a.n(f),I=a(38425),m=a.n(I),C=a(79685),e;(function(n){n.notload="notload",n.loading="loading",n.loaded="loaded",n.failed="failed"})(e||(e={}));var _={key:"f97efc35164149d0c0f299e7a8adb3d2",AMap:{version:"2.0",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"2.0.0"}};function W(n){return"https://webapi.amap.com/maps?callback=__amap_init_callback"+"&v=".concat(n.AMap.version)+"&key=".concat(n.key)+"&plugin=".concat(n.AMap.plugins.join(","))}var r={AMap:e.notload,AMapUI:e.notload,Loca:e.notload},y={AMap:[],AMapUI:[],Loca:[]},t=d()({},_),S=[];function k(n){if(typeof n=="function"){if(r.AMap===e.loaded){n(window.AMap);return}S.push(n)}}function D(n){var i=[];return n.AMapUI&&i.push(b(n.AMapUI)),n.Loca&&i.push(F(n.Loca)),Promise.all(i)}function b(n){return new Promise(function(i,o){var l=[];if(n.plugins)for(var v=0;v<n.plugins.length;v+=1)t.AMapUI.plugins.indexOf(n.plugins[v])==-1&&l.push(n.plugins[v]);if(r.AMapUI===e.failed){o("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");return}if(r.AMapUI===e.notload){r.AMapUI=e.loading,t.AMapUI.version=n.version||t.AMapUI.version;var L=t.AMapUI.version,P=document.body||document.head,g=document.createElement("script");g.type="text/javascript",g.src="https://webapi.amap.com/ui/".concat(L,"/main.js"),g.onerror=function(u){r.AMapUI=e.failed,o("\u8BF7\u6C42 AMapUI \u5931\u8D25")},g.onload=function(){if(r.AMapUI=e.loaded,l.length)window.AMapUI.loadUI(l,function(){for(var u=0,M=l.length;u<M;u++){var U=l[u],w=U.split("/").slice(-1)[0];window.AMapUI[w]=arguments[u]}for(i();y.AMapUI.length;)y.AMapUI.splice(0,1)[0]()});else for(i();y.AMapUI.length;)y.AMapUI.splice(0,1)[0]()},P.appendChild(g);return}if(r.AMapUI===e.loaded){n.version&&n.version!==t.AMapUI.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):l.length?window.AMapUI.loadUI(l,function(){for(var u=0,M=l.length;u<M;u++){var U=l[u],w=U.split("/").slice(-1)[0];window.AMapUI[w]=arguments[u]}i()}):i();return}n.version&&n.version!==t.AMapUI.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):y.AMapUI.push(function(u){u?o(u):l.length?window.AMapUI.loadUI(l,function(){for(var M=0,U=l.length;M<U;M++){var w=l[M],h=w.split("/").slice(-1)[0];window.AMapUI[h]=arguments[M]}i()}):i()})})}function F(n){return new Promise(function(i,o){if(r.Loca===e.failed){o("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");return}if(r.Loca===e.notload){r.Loca=e.loading,t.Loca.version=n.version||t.Loca.version;var l=t.Loca.version,v=t.AMap.version.startsWith("2"),L=l.startsWith("2");if(v&&!L||!v&&L){o("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");return}var P=t.key,g=document.body||document.head,u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/loca?v=".concat(l,"&key=").concat(P),u.onerror=function(){r.Loca=e.failed,o("\u8BF7\u6C42 Loca \u5931\u8D25")},u.onload=function(){for(r.Loca=e.loaded,i();y.Loca.length;)y.Loca.splice(0,1)[0]()},g.appendChild(u);return}if(r.Loca===e.loaded){n.version&&n.version!==t.Loca.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):i();return}n.version&&n.version!==t.Loca.version?o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):y.Loca.push(function(M){M?o(M):o()})})}function B(n){return new Promise(function(i,o){if(r.AMap==e.failed){o();return}if(r.AMap==e.notload){var l=n.key,v=l===void 0?t.key:l,L=n.version,P=L===void 0?t.AMap.version:L,g=n.plugins,u=g===void 0?[]:g;t.key=v,t.AMap.version=P,t.AMap.plugins=u,r.AMap=e.loading;var M=document.body||document.head;window.__amap_init_callback=function(E){if(delete window.__amap_init_callback,E){r.AMap=e.failed,o(E);return}for(r.AMap=e.loaded,D(n).then(function(){i(window.AMap)}).catch(o);S.length;)S.splice(0,1)[0]()};var U=document.createElement("script");U.type="text/javascript",U.src=W(t),U.onerror=function(E){r.AMap=e.failed,o(E)},M.appendChild(U);return}if(r.AMap==e.loaded){if(n.key&&n.key!==t.key){o("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(n.version&&n.version!==t.AMap.version){o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}var w=[];if(n.plugins)for(var h=0;h<n.plugins.length;h+=1)t.AMap.plugins.indexOf(n.plugins[h])==-1&&w.push(n.plugins[h]);w.length?window.AMap.plugin(w,function(){D(n).then(function(){i(window.AMap)}).catch(o)}):D(n).then(function(){i(window.AMap)}).catch(o);return}if(n.key&&n.key!==t.key){o("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");return}if(n.version&&n.version!==t.AMap.version){o("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");return}var O=[];if(n.plugins)for(var h=0;h<n.plugins.length;h+=1)t.AMap.plugins.indexOf(n.plugins[h])==-1&&O.push(n.plugins[h]);k(function(){O.length?window.AMap.plugin(O,function(){D(n).then(function(){i(window.AMap)}).catch(o)}):D(n).then(function(){i(window.AMap)}).catch(o)})})}function j(){delete window.AMap,delete window.AMapUI,delete window.Loca,t=_objectSpread({},defaultConfig),r={AMap:LoadStatus.notload,AMapUI:LoadStatus.notload,Loca:LoadStatus.notload},y={AMap:[],AMapUI:[],Loca:[]}}var K=a(57077),x=a(63342),T=["loading","children","onComplete"],R=function(i){var o=i.loading,l=i.children,v=i.onComplete,L=m()(i,T),P=(0,C.useState)(!1),g=p()(P,2),u=g[0],M=g[1],U=(0,C.useState)(!0),w=p()(U,2),h=w[0],O=w[1];return(0,C.useEffect)(function(){B(d()(d()({},L),{},{key:L.mapKey})).then(function(){var E=(0,K.rr)();v==null||v(E),M(!0),O(!1)}).catch(function(E){O(!1)})},[JSON.stringify(L)]),h&&o?(0,x.jsx)(x.Fragment,{children:o}):(0,x.jsx)(x.Fragment,{children:u&&l})}},57077:function(s,c,a){"use strict";a.d(c,{Cq:function(){return d},Qv:function(){return p},Ym:function(){return A},rr:function(){return f}});var A=typeof window!="undefined",d=function(m){return m[0].toUpperCase()+m.slice(1,m.length)},f=function(){return window.AMap||window.proxy.AMap},p=function(){return window.AMapUI||window.proxy.AMapUI}},38425:function(s,c,a){var A=a(68277);function d(f,p){if(f==null)return{};var I=A(f,p),m,C;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(f);for(C=0;C<e.length;C++)m=e[C],!(p.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(f,m)&&(I[m]=f[m])}return I}s.exports=d,s.exports.__esModule=!0,s.exports.default=s.exports},68277:function(s){function c(a,A){if(a==null)return{};var d={},f=Object.keys(a),p,I;for(I=0;I<f.length;I++)p=f[I],!(A.indexOf(p)>=0)&&(d[p]=a[p]);return d}s.exports=c,s.exports.__esModule=!0,s.exports.default=s.exports}}]);
