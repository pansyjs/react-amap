"use strict";(self.webpackChunk_pansy_workspace=self.webpackChunk_pansy_workspace||[]).push([[7894],{3009:function(C,p,e){e.r(p);var i=e(7863),h=e.n(i),u=e(79685),P=e(52985),_=e(15699),n=e(27139),o=e(51728),t=e(63342);p.default=function(){var l=(0,u.useState)(!0),v=h()(l,2),c=v[0],r=v[1],a=(0,u.useState)([[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]]),s=h()(a,1),m=s[0],M=function(){r(function(O){return!O})};return(0,t.jsxs)("div",{style:{height:500},children:[(0,t.jsx)(_.D,{zoom:14,center:[116.400274,39.905812],children:(0,t.jsx)(n.m,{path:m,children:(0,t.jsx)(o.$,{active:c})})}),(0,t.jsx)(P.ZP,{onClick:function(){M()},children:"Random Active"})]})}},150:function(C,p,e){e.r(p);var i=e(79685),h=e(15699),u=e(51728),P=e(27139),_=e(63342);p.default=function(){var n=(0,i.useRef)(),o=(0,i.useRef)(),t=(0,i.useRef)(),l=function(){n.current&&o.current&&t.current&&(n.current.addAdsorbPolygons([o.current,t.current]),n.current.setTarget(o.current),n.current.open())};return(0,_.jsx)("div",{style:{height:500},children:(0,_.jsxs)(h.D,{center:[116.475334,39.997534],zoom:16,children:[(0,_.jsx)(u.$,{events:{created:function(c){n.current=c,l()}}}),(0,_.jsx)(P.m,{path:[[116.474595,40.001321],[116.473526,39.999865],[116.476284,40.000917]],events:{created:function(c){o.current=c,l()},dblclick:function(){n.current.setTarget(o.current),n.current.open()}}}),(0,_.jsx)(P.m,{path:[[116.475334,39.997534],[116.476627,39.998315],[116.478603,39.99879],[116.478529,40.000296],[116.475082,40.000151],[116.473421,39.998717]],events:{created:function(c){t.current=c,l()},dblclick:function(){n.current.setTarget(t.current),n.current.open()}}})]})})}},32018:function(C,p,e){e.r(p),e.d(p,{default:function(){return s}});var i=e(7863),h=e.n(i),u=e(79685),P=e(69563),_=e(15699),n=e(51728),o=e(38781),t=e(11930),l={},v={},c=u.forwardRef(function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0,d=(0,u.useRef)(null),O=(0,t.S)(),A=O.map,y=O.AMap,E=(0,o.s)(m,d,{setterMap:l,converterMap:v}),I=E.loaded,D=E.onInstanceCreated;(0,u.useEffect)(function(){A&&j().then(function(){D==null||D(d.current)})},[A]),(0,u.useImperativeHandle)(M,function(){return d.current},[I]);var j=function(){return new Promise(function(g){d.current=new y.OverlayGroup([]),g()})},R=function(g){return g?u.Children.map(g,function(T){return u.cloneElement(T,{events:{created:function(x){d.current&&d.current.addOverlay(x)}}})}):null};return I?R(m.children):null}),r=e(27139),a=e(63342),s=function(){var m=(0,u.useRef)(),M=(0,u.useRef)([]),d=(0,u.useState)([[[116.474595,40.001321],[116.473526,39.999865],[116.476284,40.000917]],[[116.475334,39.997534],[116.476627,39.998315],[116.478603,39.99879],[116.478529,40.000296],[116.475082,40.000151],[116.473421,39.998717]]]),O=h()(d,1),A=O[0],y=(0,u.useRef)(),E=(0,u.useRef)(),I=function(f){y.current&&(y.current.addAdsorbPolygons(f),y.current.setTarget(f[0]),y.current.open(),M.current=f[0].getPath(),E.current.on("dblclick",D))},D=function(f){var g=f.target;M.current=g.getPath(),y.current.setTarget(g),y.current.open()},j=function(f){E.current=f,setTimeout(function(){var g=E.current.getOverlays();g.length&&I(g)},0)};return(0,a.jsx)("div",{style:{height:500},children:(0,a.jsxs)(_.D,{center:[116.475334,39.997534],zoom:16,events:{created:function(f){m.current=f}},children:[(0,a.jsx)(n.$,{events:{created:function(f){y.current=f},removenode:function(f){var g=f.target,T=g.getPath();if(T.length===0){var L=E.current.getOverlays();if(L.length===1){P.ZP.warning("\u533A\u57DF\u5FC5\u987B\u5269\u4F59\u4E00\u4E2A");var x=new AMap.Polygon({map:m.current,path:M.current});E.current.removeOverlay(g),E.current.addOverlay(x),E.current.on("dblclick",D)}E.current.removeOverlay(g);return}M.current=T}}}),(0,a.jsx)(c,{events:{created:j},children:A.map(function(R,f){return(0,a.jsx)(r.m,{path:R},f)})})]})})}},51728:function(C,p,e){e.d(p,{$:function(){return n}});var i=e(79685),h=e(11930),u=e(38781),P={active:function(t,l){l&&(t?l.open():l.close())}},_={},n=i.forwardRef(function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,l=(0,h.S)(),v=l.map,c=l.AMap,r=(0,i.useRef)(null),a=(0,u.s)(o,r,{setterMap:P,converterMap:_}),s=a.onInstanceCreated;(0,i.useEffect)(function(){v&&m().then(function(){s==null||s(r.current)})},[v,o.poly]),(0,i.useImperativeHandle)(t,function(){return r.current},[r.current]);var m=function(){return new Promise(function(d){c.plugin(["AMap.PolygonEditor"],function(){r.current=new c.PolygonEditor(v,o.poly),d()})})};return null})},27139:function(C,p,e){e.d(p,{m:function(){return c}});var i=e(79685),h=e(11930),u=e(38781),P=e(32812),_=e(44305);function n(r){var a=this;return r.length?r.map(function(s,m){return Array.isArray(s[m])?a.buildPathValue(s):(0,_.t)(s)}):r}var o=["center","radius","draggable","extData","visible","style"],t=o.concat(["zIndex","bubble"]),l={visible:function(a,s){s&&(a?s.show():s.hide())},style:function(a,s){s&&s.setOptions(a)}},v={path:function(a){return n(a)}},c=i.forwardRef(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,s=(0,h.S)(),m=s.map,M=s.AMap,d=(0,i.useRef)(null),O=(0,u.s)(r,d,{setterMap:l,converterMap:v}),A=O.loaded,y=O.onInstanceCreated;(0,i.useEffect)(function(){m&&E().then(function(){y==null||y(d.current)})},[m]),(0,i.useImperativeHandle)(a,function(){return d.current},[A]);var E=function(){var D=(0,P.T)(r,t,v);return D.map=m,d.current=new M.Polygon(D),Promise.resolve()};return A?(0,P.p)(r.children,{key:"poly",instance:d.current,map:m}):null})},32812:function(C,p,e){e.d(p,{T:function(){return P},p:function(){return _}});var i=e(39620),h=e.n(i),u=e(79685);function P(n,o,t){var l={},v=function(r,a){return r in t?t[r](a[r]):a[r]};return o.forEach(function(c){if(c in n)if(c==="style"&&n.style!==void 0){var r=Object.keys(n.style);r.forEach(function(a){l[a]=n.style[a]})}else c!=="visible"&&(l[c]=v(c,n))}),l}function _(n,o){var t;return!n||u.Children.count(n)!==1?null:u.cloneElement(u.Children.only(n),(t={},h()(t,"".concat(o.key),o.instance),h()(t,"map",o.map),t))}}}]);
