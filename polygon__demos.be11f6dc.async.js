"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3358],{625:function(U,O,a){a.d(O,{S:function(){return P},X:function(){return p}});var l=a(50959),p=(0,l.createContext)({}),P=function(){return(0,l.useContext)(p)}},34422:function(U,O,a){a.d(O,{D:function(){return te}});var l=a(50959),p=a(35354),P=a(80667),c=a(66724),S=["layers","zoom","zooms","center","labelzIndex","lang","mapStyle","features","cursor","pitch","mask","defaultLayer"],m=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","pitchEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],_=["view","showIndoorMap","indoorMap","expandZoomRange","touchZoomCenter","showBuildingBlock","viewMode","buildingAnimation","skyColor"],o={width:"100%",height:"100%",position:"relative"},u={width:"100%",height:"100%"},s=S.concat(m,_),E={zoom:function(t,r){r&&r.setZoom(t)},cursor:function(t,r){r&&r.setDefaultCursor(t)},labelzIndex:function(t,r){r&&r.setLabelzIndex(t)}},d={center:c.t,mapStyle:function(t){return t.indexOf("amap://styles")===0?t:"amap://styles/".concat(t)}},f=a(95704),i=a(11527),g=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(0,l.useRef)(),n=(0,l.useRef)(),v=(0,P.s)(t,n,{setterMap:E,converterMap:d}),y=v.loaded,L=v.prevProps,C=v.onInstanceCreated;(0,l.useEffect)(function(){A().then(function(){var I;(I=t.onMapCreate)===null||I===void 0||I.call(t,n.current),C==null||C(n.current)})},[]),(0,l.useEffect)(function(){y&&N(L,t)},[t]);var A=function(){var b=B(),h=(0,f.rr)();return n.current=new h.Map(r.current,b),Promise.resolve()},B=function(){var b={};return s.forEach(function(h){h in t&&(b[h]=z(h,t))}),b},z=function(b,h){return b in d?d[b](h[b]):h[b]},N=function(b,h){var T={},w=!1,$=!1;m.forEach(function(K){K in h&&($=!0,Z(K,b,h)&&(w=!0,T[K]=h[K]))}),w&&n.current.setStatus(T)},Z=function(b,h,T){return h[b]!==T[b]};return(0,i.jsxs)("div",{style:o,children:[(0,i.jsx)("div",{ref:r,style:u,children:y?null:t.loading}),(0,i.jsx)("div",{children:y?t.children:null})]})},W=a(625);function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(e)}var R=["mapKey","version","plugins","AMapUI","Loca","loading","onComplete","onMapCreate"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(n){x(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x(e,t,r){return t=X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){var t=V(e,"string");return M(t)==="symbol"?t:String(t)}function V(e,t){if(M(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F(e,t){return k(e)||Q(e,t)||J(e,t)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,t){if(e){if(typeof e=="string")return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}}function Y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,v,y,L,C=[],A=!0,B=!1;try{if(y=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;A=!1}else for(;!(A=(n=y.call(r)).done)&&(C.push(n.value),C.length!==t);A=!0);}catch(z){B=!0,v=z}finally{try{if(!A&&r.return!=null&&(L=r.return(),Object(L)!==L))return}finally{if(B)throw v}}return C}}function k(e){if(Array.isArray(e))return e}function q(e,t){if(e==null)return{};var r=ee(e,t),n,v;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(v=0;v<y.length;v++)n=y[v],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ee(e,t){if(e==null)return{};var r={},n=Object.keys(e),v,y;for(y=0;y<n.length;y++)v=n[y],!(t.indexOf(v)>=0)&&(r[v]=e[v]);return r}var te=l.forwardRef(function(e,t){var r=e.mapKey,n=e.version,v=e.plugins,y=e.AMapUI,L=e.Loca,C=e.loading,A=e.onComplete,B=e.onMapCreate,z=q(e,R),N=(0,l.useState)(),Z=F(N,2),I=Z[0],b=Z[1],h=(0,l.useState)(),T=F(h,2),w=T[0],$=T[1];return(0,l.useImperativeHandle)(t,function(){return w},[w]),(0,i.jsx)(W.X.Provider,{value:{AMap:I,map:w},children:(0,i.jsx)(p._,{mapKey:r,version:n,plugins:v,Loca:L,AMapUI:y,loading:C,onComplete:function(H){A==null||A(H),b(H)},children:(0,i.jsx)(g,j(j({loading:C},z),{},{onMapCreate:function(H){$(H)}}))})})})},92265:function(U,O,a){a.d(O,{m:function(){return E}});var l=a(50959),p=a(625),P=a(80667),c=a(76746),S=a(66724);function m(d){var f=this;return d.length?d.map(function(i,g){return Array.isArray(i[g])?f.buildPathValue(i):(0,S.t)(i)}):d}var _=["center","radius","draggable","extData","visible","style"],o=_.concat(["zIndex","bubble"]),u={visible:function(f,i){i&&(f?i.show():i.hide())},style:function(f,i){i&&i.setOptions(f)}},s={path:function(f){return m(f)}},E=l.forwardRef(function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0,i=(0,p.S)(),g=i.map,W=i.AMap,M=(0,l.useRef)(null),R=(0,P.s)(d,M,{setterMap:u,converterMap:s}),D=R.loaded,j=R.onInstanceCreated;(0,l.useEffect)(function(){g&&x().then(function(){j==null||j(M.current)})},[g]),(0,l.useImperativeHandle)(f,function(){return M.current},[D]);var x=function(){var V=(0,c.T)(d,o,s);return V.map=g,M.current=new W.Polygon(V),Promise.resolve()};return D?(0,c.p)(d.children,{key:"poly",instance:M.current,map:g}):null})},76746:function(U,O,a){a.d(O,{T:function(){return m},p:function(){return _}});var l=a(50959);function p(o){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},p(o)}function P(o,u,s){return u=c(u),u in o?Object.defineProperty(o,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[u]=s,o}function c(o){var u=S(o,"string");return p(u)==="symbol"?u:String(u)}function S(o,u){if(p(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var E=s.call(o,u||"default");if(p(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}function m(o,u,s){var E={},d=function(i,g){return i in s?s[i](g[i]):g[i]};return u.forEach(function(f){if(f in o)if(f==="style"&&o.style!==void 0){var i=Object.keys(o.style);i.forEach(function(g){E[g]=o.style[g]})}else f!=="visible"&&(E[f]=d(f,o))}),E}function _(o,u){var s;return!o||l.Children.count(o)!==1?null:l.cloneElement(l.Children.only(o),(s={},P(s,"".concat(u.key),u.instance),P(s,"map",u.map),s))}},66724:function(U,O,a){a.d(O,{t:function(){return p}});var l=a(95704),p=function(c){if(!c)return null;if("getLng"in c&&"getLat"in c)return c;var S=0,m=0;Array.isArray(c)?(S=c[0],m=c[1]):"lng"in c&&"lat"in c?(S=c.lng,m=c.lat):"longitude"in c&&"latitude"in c&&(S=c.longitude,m=c.latitude);var _=(0,l.rr)();return l.Ym&&_?new _.LngLat(S,m):null}},29807:function(U,O,a){a.r(O);var l=a(54306),p=a.n(l),P=a(50959),c=a(34422),S=a(92265),m=a(11527);O.default=function(){var _=(0,P.useState)(!0),o=p()(_,2),u=o[0],s=o[1],E=(0,P.useState)(!0),d=p()(E,2),f=d[0],i=d[1],g=(0,P.useState)([[116.403322,39.920255],[116.410703,39.897555],[116.402292,39.892353],[116.389846,39.891365]]),W=p()(g,1),M=W[0],R=function(){s(function(x){return!x})},D=function(){i(function(x){return!x})};return(0,m.jsxs)("div",{style:{height:500},children:[(0,m.jsx)(c.D,{zoom:14,center:[116.400274,39.905812],children:(0,m.jsx)(S.m,{path:M,draggable:f,visible:u})}),(0,m.jsx)("button",{onClick:R,children:"Toggle Visible"}),(0,m.jsx)("button",{onClick:D,children:"Toggle Draggable"})]})}}}]);
